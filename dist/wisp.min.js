require=function o(a,s,u){function c(t,e){if(!s[t]){if(!a[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(l)return l(t,!0);var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}var i=s[t]={exports:{}};a[t][0].call(i.exports,function(e){return c(a[t][1][e]||e)},i,i.exports,o,a,s,u)}return s[t].exports}for(var l="function"==typeof require&&require,e=0;e<u.length;e++)c(u[e]);return c}({1:[function(require,module,exports){var _ns_={id:"wisp.backend.escodegen.generator",doc:void 0},wisp_reader=require("./../../reader"),readString=wisp_reader.readFromString,read_=wisp_reader.read_,wisp_ast=require("./../../ast"),meta=wisp_ast.meta,withMeta=wisp_ast.withMeta,isSymbol=wisp_ast.isSymbol,symbol=wisp_ast.symbol,isKeyword=wisp_ast.isKeyword,keyword=wisp_ast.keyword,namespace=wisp_ast.namespace,isUnquote=wisp_ast.isUnquote,isUnquoteSplicing=wisp_ast.isUnquoteSplicing,isQuote=wisp_ast.isQuote,isSyntaxQuote=wisp_ast.isSyntaxQuote,name=wisp_ast.name,gensym=wisp_ast.gensym,prStr=wisp_ast.prStr,wisp_sequence=require("./../../sequence"),isEmpty=wisp_sequence.isEmpty,count=wisp_sequence.count,isList=wisp_sequence.isList,list=wisp_sequence.list,first=wisp_sequence.first,second=wisp_sequence.second,third=wisp_sequence.third,rest=wisp_sequence.rest,cons=wisp_sequence.cons,conj=wisp_sequence.conj,butlast=wisp_sequence.butlast,reverse=wisp_sequence.reverse,reduce=wisp_sequence.reduce,vec=wisp_sequence.vec,last=wisp_sequence.last,map=wisp_sequence.map,filter=wisp_sequence.filter,take=wisp_sequence.take,concat=wisp_sequence.concat,partition=wisp_sequence.partition,repeat=wisp_sequence.repeat,interleave=wisp_sequence.interleave,wisp_runtime=require("./../../runtime"),isOdd=wisp_runtime.isOdd,isDictionary=wisp_runtime.isDictionary,dictionary=wisp_runtime.dictionary,merge=wisp_runtime.merge,keys=wisp_runtime.keys,vals=wisp_runtime.vals,isContainsVector=wisp_runtime.isContainsVector,mapDictionary=wisp_runtime.mapDictionary,isString=wisp_runtime.isString,isNumber=wisp_runtime.isNumber,isVector=wisp_runtime.isVector,isBoolean=wisp_runtime.isBoolean,subs=wisp_runtime.subs,reFind=wisp_runtime.reFind,isTrue=wisp_runtime.isTrue,isFalse=wisp_runtime.isFalse,isNil=wisp_runtime.isNil,isRePattern=wisp_runtime.isRePattern,inc=wisp_runtime.inc,dec=wisp_runtime.dec,str=wisp_runtime.str,char=wisp_runtime.char,int=wisp_runtime.int,isEqual=wisp_runtime.isEqual,isStrictEqual=wisp_runtime.isStrictEqual,wisp_string=require("./../../string"),split=wisp_string.split,join=wisp_string.join,upperCase=wisp_string.upperCase,replace=wisp_string.replace,wisp_expander=require("./../../expander"),installMacro=wisp_expander.installMacro,wisp_analyzer=require("./../../analyzer"),emptyEnv=wisp_analyzer.emptyEnv,analyze=wisp_analyzer.analyze,analyze_=wisp_analyzer.analyze_,wisp_backend_escodegen_writer=require("./writer"),write=wisp_backend_escodegen_writer.write,compile=wisp_backend_escodegen_writer.compile,write_=wisp_backend_escodegen_writer.write_,escodegen=require("escodegen"),generate_=escodegen.generate,base64Encode=require("base64-encode"),btoa=base64Encode,fs=require("fs"),readFileSync=fs.readFileSync,writeFileSync=fs.writeFileSync,path=require("path"),basename=path.basename,dirname=path.dirname,joinPath=path.join,generate=exports.generate=function(n){var r=Array.prototype.slice.call(arguments,1);return function(){var e=write_.apply(void 0,r),t=generate_(e,{file:(n||0)["output-uri"],sourceContent:(n||0).source,sourceMap:(n||0)["source-uri"],sourceMapRoot:(n||0)["source-root"],sourceMapWithCode:!0});return(t||0).map.setSourceContent((n||0)["source-uri"],(n||0).source),{code:(n||0)["no-map"]?(t||0).code:(t||0).code+"\n//# sourceMappingURL=data:application/json;base64,"+btoa(""+(t||0).map)+"\n","source-map":(t||0).map,"js-ast":e}}.call(this)},expandDefmacro=exports.expandDefmacro=function expandDefmacro(_andForm,id){var body=Array.prototype.slice.call(arguments,2);return function(){var fnø1=withMeta(list.apply(void 0,[symbol(void 0,"defn")].concat([id],vec(body))),meta(_andForm)),formø1=list.apply(void 0,[symbol(void 0,"do")].concat([fnø1],[id])),astø1=analyze(formø1),codeø1=compile(astø1),macroø1=eval(codeø1);installMacro(id,macroø1)}.call(this)};installMacro(symbol(void 0,"defmacro"),withMeta(expandDefmacro,{implicit:["&form"]}))},{"./../../analyzer":"wisp/analyzer","./../../ast":"wisp/ast","./../../expander":"wisp/expander","./../../reader":"wisp/reader","./../../runtime":"wisp/runtime","./../../sequence":"wisp/sequence","./../../string":"wisp/string","./writer":2,"base64-encode":5,escodegen:9,fs:7,path:16}],2:[function(e,t,n){e("./../../reader").readFromString;var r=e("./../../ast"),a=r.meta,l=r.withMeta,p=(r.isSymbol,r.symbol),i=r.isKeyword,o=r.keyword,u=r.namespace,f=(r.isUnquote,r.isUnquoteSplicing,r.isQuote,r.isSyntaxQuote,r.name),s=(r.gensym,r.prStr),c=e("./../../sequence"),d=c.isEmpty,h=c.count,m=c.isList,g=c.list,y=c.first,v=c.second,w=(c.third,c.rest),b=c.cons,S=c.conj,_=c.butlast,E=(c.reverse,c.reduce),x=c.vec,C=c.last,A=c.map,q=(c.filter,c.take,c.concat),k=c.partition,I=c.repeat,O=c.interleave,M=c.assoc,R=e("./../../runtime"),j=(R.isOdd,R.isDictionary,R.dictionary,R.merge,R.keys,R.vals,R.isContainsVector,R.mapDictionary,R.isString),L=R.isNumber,B=R.isVector,T=(R.isBoolean,R.subs),D=(R.reFind,R.isTrue,R.isFalse,R.isNil),P=(R.isRePattern,R.inc),F=R.dec,N=(R.str,R.char,R.int,R.isEqual),U=(R.isStrictEqual,e("./../../string")),z=U.split,W=U.join,V=U.upperCase,$=(U.replace,U.triml),G=e("./../../expander").installMacro,Q=e("escodegen").generate,K=n.__uniqueChar__="ø",H=n.toCamelJoin=function(e,t){return""+e+(d(e)||d(t)?t:""+V((t||0)[0])+T(t,1))},Y=n.toPrivatePrefix=function(r){return function(){var e=W(" ",z(r,/-/)),t=$(e),n=h(r)-h(t);return 0<n?""+W("_",I(P(n),""))+T(r,n):r}.call(this)},J=n.translateIdentifierWord=function(e){var t=f(e);return t=W("_",z(t="*"===t?"multiply":"/"===t?"divide":"+"===t?"sum":"-"===t?"subtract":"="===t?"equal?":"=="===t?"strict-equal?":"<="===t?"not-greater-than":">="===t?"not-less-than":">"===t?"greater-than":"<"===t?"less-than":"->"===t?"thread-first":t,"*")),t=W("_",z(t,".")),t="->"===T(t,0,2)?T(W("-to-",z(t,"->")),1):W("-to-",z(t,"->")),t=W(z(t,"!")),t=W("$",z(t,"%")),t=W("-equal-",z(t,"=")),t=W("-plus-",z(t,"+")),t=W("-and-",z(t,"&")),t="?"===C(t)?"is-"+T(t,0,F(h(t))):t,t=Y(t),t=E(H,"",z(t,"-"))},X=n.translateIdentifier=function(t){return function(){var e=u(t);return(e&&!N(e,"js")?J(u(t))+".":"")+W(".",A(J,z(f(t),".")))}.call(this)},Z=n.errorArgCount=function(e,t){return function(){throw SyntaxError("Wrong number of arguments ("+t+") passed to: "+e)}()},ee=n.inheritLocation=function(n){return function(){var e=((y(n)||0).loc||0).start,t=((C(n)||0).loc||0).end;return D(e)||D(t)?void 0:{start:e,end:t}}.call(this)},te=n.writeLocation=function(i,o){return function(){var e=a(i),t=a(o),n=(i||0).start||(e||0).start||(t||0).start,r=(i||0).end||(e||0).end||(t||0).end;return D(n)?{}:{loc:{start:{line:P((n||0).line),column:(n||0).column},end:{line:P((r||0).line),column:(r||0).column}}}}.call(this)},ne=n.__writers__={},re=n.installWriter=function(e,t){return ne[e]=t},ie=n.writeOp=function(t,n){return function(){var e=ne[t];return e||function(){throw Error("Assert failed: Unsupported operation: "+t+"writer")}(),S(te((n||0).form,(n||0)["original-form"]),e(n))}.call(this)},oe=n.__specials__={},ae=n.installSpecial=function(e,t){return oe[f(e)]=t},se=n.writeSpecial=function(e,t){return S(te((t||0).form,(t||0)["original-form"]),e.apply(void 0,(t||0).params))},ue=n.writeNil=function(){return{type:"UnaryExpression",operator:"void",argument:{type:"Literal",value:0},prefix:!0}};re("nil",ue);var ce=n.writeLiteral=function(e){return{type:"Literal",value:e}};re("list",n.writeList=function(e){return{type:"CallExpression",callee:Ue({op:"var",form:p(void 0,"list")}),arguments:A(Ue,(e||0).items)}}),re("symbol",n.writeSymbol=function(e){return{type:"CallExpression",callee:Ue({op:"var",form:p(void 0,"symbol")}),arguments:[le((e||0).namespace),le((e||0).name)]}});var le=n.writeConstant=function(e){return D(e)?ue(e):i(e)?ce(u(e)?u(e)+"/"+f(e):f(e)):L(e)?fe(e.valueOf()):j(e)?pe(e):ce(e)};re("constant",function(e){return le((e||0).form)});var pe=n.writeString=function(e){return{type:"Literal",value:""+e}},fe=n.writeNumber=function e(t){return t<0?{type:"UnaryExpression",operator:"-",prefix:!0,argument:e(-1*t)}:ce(t)};re("keyword",n.writeKeyword=function(e){return{type:"Literal",value:(e||0).form}});var de=n.toIdentifier=function(e){return{type:"Identifier",name:X(e)}},he=n.writeBindingVar=function(n){return function(){var e=(n||0).id,t=(n||0).shadow?p(void 0,X(e)+K+(n||0).depth):e;return S(de(t),te(e))}.call(this)},me=n.writeVar=function(e){return N("binding",((e||0).binding||0).type)?S(he((e||0).binding),te((e||0).form)):S(te((e||0).form),de((e||0).form))};re("var",me),re("param",me),re("invoke",n.writeInvoke=function(e){return{type:"CallExpression",callee:Ue((e||0).callee),arguments:A(Ue,(e||0).params)}}),re("vector",n.writeVector=function(e){return{type:"ArrayExpression",elements:A(Ue,(e||0).items)}}),re("dictionary",n.writeDictionary=function(t){return function(){var e=k(2,O((t||0).keys,(t||0).values));return{type:"ObjectExpression",properties:A(function(n){return function(){var e=y(n),t=v(n);return{kind:"init",type:"Property",key:N("symbol",(e||0).op)?le(""+(e||0).form):Ue(e),value:Ue(t)}}.call(this)},e)}}.call(this)});var ge=n.writeExport=function(e){return Ue({op:"set!",target:{op:"member-expression",computed:!1,target:{op:"var",form:l(p(void 0,"exports"),a(((e||0).id||0).form))},property:(e||0).id,form:((e||0).id||0).form},value:(e||0).init,form:((e||0).id||0).form})};re("def",n.writeDef=function(e){return S({type:"VariableDeclaration",kind:"var",declarations:[S({type:"VariableDeclarator",id:Ue((e||0).id),init:S((e||0).export?ge(e):Ue((e||0).init))},te(((e||0).id||0).form))]},te((e||0).form,(e||0)["original-form"]))}),re("binding",n.writeBinding=function(n){return function(){var e=he(n),t=Ue((n||0).init);return{type:"VariableDeclaration",kind:"var",loc:ee([e,t]),declarations:[{type:"VariableDeclarator",id:e,init:t}]}}.call(this)}),re("throw",n.writeThrow=function(e){return Ee(S({type:"ThrowStatement",argument:Ue((e||0).throw)},te((e||0).form,(e||0)["original-form"])))}),re("new",n.writeNew=function(e){return{type:"NewExpression",callee:Ue((e||0).constructor),arguments:A(Ue,(e||0).params)}}),re("set!",n.writeSet=function(e){return{type:"AssignmentExpression",operator:"=",left:Ue((e||0).target),right:Ue((e||0).value)}}),re("member-expression",n.writeAget=function(e){return{type:"MemberExpression",computed:(e||0).computed,object:Ue((e||0).target),property:Ue((e||0).property)}});var ye=n.__statements__={EmptyStatement:!0,BlockStatement:!0,ExpressionStatement:!0,IfStatement:!0,LabeledStatement:!0,BreakStatement:!0,ContinueStatement:!0,SwitchStatement:!0,ReturnStatement:!0,ThrowStatement:!0,TryStatement:!0,WhileStatement:!0,DoWhileStatement:!0,ForStatement:!0,ForInStatement:!0,ForOfStatement:!0,LetStatement:!0,VariableDeclaration:!0,FunctionDeclaration:!0},ve=n.writeStatement=function(e){return we(Ue(e))},we=n.toStatement=function(e){return ye[(e||0).type]?e:{type:"ExpressionStatement",expression:e,loc:(e||0).loc}},be=n.toReturn=function(e){return S({type:"ReturnStatement",argument:Ue(e)},te((e||0).form,(e||0)["original-form"]))},Se=n.writeBody=function(n){return function(){var e=A(ve,(n||0).statements||[]),t=(n||0).result?be((n||0).result):void 0;return t?S(e,t):e}.call(this)},_e=n.toBlock=function(e){return B(e)?{type:"BlockStatement",body:e,loc:ee(e)}:{type:"BlockStatement",body:[e],loc:(e||0).loc}},Ee=n.toExpression=function(){var e=Array.prototype.slice.call(arguments,0);return{type:"CallExpression",arguments:[],loc:ee(e),callee:Ce([{type:"FunctionExpression",id:void 0,params:[],defaults:[],expression:!1,generator:!1,rest:void 0,body:_e(e)}])}};re("do",n.writeDo=function(e){return(a(y((e||0).form))||0).block?_e(Se(S(e,{result:void 0,statements:S((e||0).statements,(e||0).result)}))):Ee.apply(void 0,Se(e))}),re("if",n.writeIf=function(e){return{type:"ConditionalExpression",test:Ue((e||0).test),consequent:Ue((e||0).consequent),alternate:Ue((e||0).alternate)}}),re("try",n.writeTry=function(n){return function(){var e=(n||0).handler,t=(n||0).finalizer;return Ee(S({type:"TryStatement",guardedHandlers:[],block:_e(Se((n||0).body)),handlers:e?[{type:"CatchClause",param:Ue((e||0).name),body:_e(Se(e))}]:[],finalizer:t?_e(Se(t)):e?void 0:_e([])},te((n||0).form,(n||0)["original-form"])))}.call(this)});n.writeBinding=function(e){return Ue({op:"def",var:e,init:(e||0).init,form:e})};re("let",n.writeLet=function(t){return function(){var e=S(t,{statements:x(q((t||0).bindings,(t||0).statements))});return Ae(_e(Se(e)))}.call(this)});var xe=n.toRebind=function(i){return function e(){for(var t=e,n=[],r=(i||0).bindings;t=d(r)?n:(e[0]=S(n,{type:"AssignmentExpression",operator:"=",left:he(y(r)),right:{type:"MemberExpression",computed:!0,object:{type:"Identifier",name:"loop"},property:{type:"Literal",value:h(n)}}}),e[1]=w(r),e),n=e[0],r=e[1],t===e;);return t}.call(this)},Ce=n.toSequence=function(e){return{type:"SequenceExpression",expressions:e}},Ae=n.toIife=function(e,t){return{type:"CallExpression",arguments:[{type:"ThisExpression"}],callee:{type:"MemberExpression",computed:!1,object:{type:"FunctionExpression",id:t,params:[],defaults:[],expression:!1,generator:!1,rest:void 0,body:e},property:{type:"Identifier",name:"call"}}}},qe=n.toLoopInit=function(){return{type:"VariableDeclaration",kind:"var",declarations:[{type:"VariableDeclarator",id:{type:"Identifier",name:"recur"},init:{type:"Identifier",name:"loop"}}]}},ke=n.toDoWhile=function(e,t){return{type:"DoWhileStatement",body:e,test:t}},Ie=n.toSetRecur=function(e){return{type:"AssignmentExpression",operator:"=",left:{type:"Identifier",name:"recur"},right:Ue(e)}},Oe=n.toLoop=function(e){return Ce(S(xe(e),{type:"BinaryExpression",operator:"===",left:{type:"Identifier",name:"recur"},right:{type:"Identifier",name:"loop"}}))};re("loop",n.writeLoop=function(i){return function(){var e=(i||0).result,t=(i||0).bindings,n=S(A(ve,(i||0).statements),we(Ie(e))),r=q([qe()],A(Ue,t),[ke(_e(x(n)),Oe(i))],[{type:"ReturnStatement",argument:{type:"Identifier",name:"recur"}}]);return Ae(_e(x(r)),p(void 0,"loop"))}.call(this)});var Me=n.toRecur=function(i){return function e(){for(var t=e,n=[],r=(i||0).params;t=d(r)?n:(e[0]=S(n,{type:"AssignmentExpression",operator:"=",right:Ue(y(r)),left:{type:"MemberExpression",computed:!0,object:{type:"Identifier",name:"loop"},property:{type:"Literal",value:h(n)}}}),e[1]=w(r),e),n=e[0],r=e[1],t===e;);return t}.call(this)};re("recur",n.writeRecur=function(e){return Ce(S(Me(e),{type:"Identifier",name:"loop"}))});var Re=n.fallbackOverload=function(){return{type:"SwitchCase",test:void 0,consequent:[{type:"ThrowStatement",argument:{type:"CallExpression",callee:{type:"Identifier",name:"RangeError"},arguments:[{type:"Literal",value:"Wrong number of arguments passed"}]}}]}},je=n.spliceBinding=function(e){return{op:"def",id:C((e||0).params),init:{op:"invoke",callee:{op:"var",form:p(void 0,"Array.prototype.slice.call")},params:[{op:"var",form:p(void 0,"arguments")},{op:"constant",form:(e||0).arity,type:"number"}]}}},Le=n.writeOverloadingParams=function(e){return E(function(e,t){return S(e,{op:"def",id:t,init:{op:"member-expression",computed:!0,target:{op:"var",form:p(void 0,"arguments")},property:{op:"constant",type:"number",form:h(e)}}})},[],e)},Be=n.writeOverloadingFn=function(t){return function(){var e=A(Te,(t||0).methods);return{params:[],body:_e({type:"SwitchStatement",discriminant:{type:"MemberExpression",computed:!1,object:{type:"Identifier",name:"arguments"},property:{type:"Identifier",name:"length"}},cases:(t||0).variadic?e:S(e,Re())})}}.call(this)},Te=n.writeFnOverload=function(r){return function(){var e=(r||0).params,t=(r||0).variadic?S(Le(_(e)),je(r)):Le(e),n=x(q(t,(r||0).statements));return{type:"SwitchCase",test:(r||0).variadic?void 0:{type:"Literal",value:(r||0).arity},consequent:Se(S(r,{statements:n}))}}.call(this)},De=n.writeSimpleFn=function(r){return function(){var e=y((r||0).methods),t=(e||0).variadic?_((e||0).params):(e||0).params,n=(e||0).variadic?S(e,{statements:x(b(je(e),(e||0).statements))}):e;return{params:A(me,t),body:_e(Se(n))}}.call(this)},Pe=n.resolve=function(e,t){return function(){var i=z(f(e),"."),o=z(f(t),".");return!(f(e)===f(t))&&y(i)===y(o)?function e(){for(var t=e,n=i,r=o;t=y(n)===y(r)?(e[0]=w(n),e[1]=w(r),e):W("/",q(["."],I(F(h(n)),".."),r)),n=e[0],r=e[1],t===e;);return t}.call(this):W("/",o)}.call(this)},Fe=n.idToNs=function(e){return p(void 0,W("*",z(f(e),".")))},Ne=n.writeRequire=function(r,i){return function(){var n={op:"def",id:{op:"var",type:"identifier",form:Fe((r||0).ns)},init:{op:"invoke",callee:{op:"var",type:"identifier",form:p(void 0,"require")},params:[{op:"constant",form:Pe(i,(r||0).ns)}]}},e=(r||0).alias?{op:"def",id:{op:"var",type:"identifier",form:Fe((r||0).alias)},init:n.id}:void 0,t=E(function(e,t){return S(e,{op:"def",id:{op:"var",type:"identifier",form:(t||0).rename||(t||0).name},init:{op:"member-expression",computed:!1,target:n.id,property:{op:"var",type:"identifier",form:(t||0).name}}})},[],(r||0).refer);return x(b(n,e?b(e,t):t))}.call(this)};re("ns",n.writeNs=function(i){return function(){var e=(i||0).form,t=(i||0).name,n={op:"def","original-form":e,id:{op:"var",type:"identifier","original-form":y(e),form:p(void 0,"*ns*")},init:{op:"dictionary",form:e,keys:[{op:"var",type:"identifier","original-form":e,form:p(void 0,"id")},{op:"var",type:"identifier","original-form":e,form:p(void 0,"doc")}],values:[{op:"constant",type:"identifier","original-form":(i||0).name,form:f((i||0).name)},{op:"constant","original-form":e,form:(i||0).doc}]}},r=x(q.apply(void 0,A(function(e){return Ne(e,t)},(i||0).require)));return _e(A(Ue,x(b(n,r))))}.call(this)}),re("fn",n.writeFn=function(t){return function(){var e=1<h((t||0).methods)?Be(t):De(t);return S(e,{type:"FunctionExpression",id:(t||0).id?me((t||0).id):void 0,defaults:void 0,rest:void 0,generator:!1,expression:!1})}.call(this)});var Ue=n.write=function(t){return function(){var e=N("invoke",(t||0).op)&&N("var",((t||0).callee||0).op)&&oe[f(((t||0).callee||0).form)];return e?se(e,t):ie((t||0).op,t)}.call(this)},ze=n.write_=function(){var t=Array.prototype.slice.call(arguments,0);return function(){var e=A(ve,t);return{type:"Program",body:e,loc:ee(e)}}.call(this)};n.compile=function e(t){switch(arguments.length){case 1:return e({},t);default:var n=t,r=Array.prototype.slice.call(arguments,1);return Q(ze.apply(void 0,r),n)}};G("get",n.getMacro=function(e,t){return g.apply(void 0,[p(void 0,"aget")].concat([g.apply(void 0,[p(void 0,"or")].concat([e],[0]))],[t]))});var We=n.installLogicalOperator=function(e,n,r){return ae(e,function(){var t=Array.prototype.slice.call(arguments,0);return function(){var e=h(t);return N(e,0)?le(r):N(e,1)?Ue(y(t)):E(function(e,t){return{type:"LogicalExpression",operator:n,left:e,right:Ue(t)}},Ue(y(t)),w(t))}.call(this)})};We("or","||",void 0),We("and","&&",!0);var Ve=n.installUnaryOperator=function(t,n,r){return ae(t,function(){var e=Array.prototype.slice.call(arguments,0);return 1===h(e)?{type:"UnaryExpression",operator:n,argument:Ue(y(e)),prefix:r}:Z(t,h(e))})};Ve("not","!"),Ve("bit-not","~");var $e=n.installBinaryOperator=function(t,n){return ae(t,function(){var e=Array.prototype.slice.call(arguments,0);return h(e)<2?Z(t,h(e)):E(function(e,t){return{type:"BinaryExpression",operator:n,left:e,right:Ue(t)}},Ue(y(e)),w(e))})};$e("bit-and","&"),$e("bit-or","|"),$e("bit-xor","^"),$e("bit-shift-left","<<"),$e("bit-shift-right",">>"),$e("bit-shift-right-zero-fil",">>>");var Ge=n.installArithmeticOperator=function(n,r,i,o){function a(e,t){return{type:"BinaryExpression",operator:f(r),left:e,right:Ue(t)}}return ae(n,function(){var t=Array.prototype.slice.call(arguments,0);return function(){var e=h(t);return i&&!i(e)?Z(f(n),e):0==e?ce(o):1==e?E(a,ce(o),t):E(a,Ue(y(t)),w(t))}.call(this)})};Ge("+","+",void 0,0),Ge("-","-",function(e){return 1<=e},0),Ge("*","*",void 0,1),Ge(o("/"),o("/"),function(e){return 1<=e},1),Ge("mod",o("%"),function(e){return 2==e},1);var Qe=n.installComparisonOperator=function(a,s,u){return ae(a,function e(t,n){switch(arguments.length){case 0:return Z(a,0);case 1:return Ce([Ue(t),ce(u)]);case 2:var r=n;return{type:"BinaryExpression",operator:s,left:Ue(i=t),right:Ue(r)};default:var i=t,o=(r=n,Array.prototype.slice.call(arguments,2));return E(function(e,t){return{type:"LogicalExpression",operator:"&&",left:e,right:{type:"BinaryExpression",operator:s,left:N("LogicalExpression",(e||0).type)?((e||0).right||0).right:(e||0).right,right:Ue(t)}}},e(i,r),o)}})};Qe("==","==",!0),Qe(">",">",!0),Qe(">=",">=",!0),Qe("<","<",!0),Qe("<=","<=",!0);var Ke=n.isWriteIdentical=function(){var e=Array.prototype.slice.call(arguments,0);return 2===h(e)?{type:"BinaryExpression",operator:"===",left:Ue(y(e)),right:Ue(v(e))}:Z("identical?",h(e))};ae("identical?",Ke);var He=n.isWriteInstance=function(){var n=Array.prototype.slice.call(arguments,0);return function(){var e=y(n),t=v(n);return h(n)<1?Z("instance?",h(n)):{type:"BinaryExpression",operator:"instanceof",left:t?Ue(t):le(t),right:Ue(e)}}.call(this)};ae("instance?",He),G("apply",n.expandApply=function(t){var n=Array.prototype.slice.call(arguments,1);return function(){var e=x(_(n));return d(e)?g.apply(void 0,[p(void 0,".apply")].concat([t],[void 0],x(n))):g.apply(void 0,[p(void 0,".apply")].concat([t],[void 0],[g.apply(void 0,[p(void 0,".concat")].concat([e],[C(n)]))]))}.call(this)});var Ye=n.expandPrint=function(t){var n=Array.prototype.slice.call(arguments,1);return function(){var e=l(p(void 0,"console.log"),a(t));return g.apply(void 0,[e].concat(x(n)))}.call(this)};G("print",l(Ye,{implicit:["&form"]})),G("str",n.expandStr=function(){var e=Array.prototype.slice.call(arguments,0);return g.apply(void 0,[p(void 0,"+")].concat([""],x(e)))}),G("debugger!",n.expandDebug=function(){return p(void 0,"debugger")}),G("assert",n.expandAssert=function e(t,n){switch(arguments.length){case 1:return e(r=t,"");case 2:var r=t,i=n;return function(){var e=s(r);return g.apply(void 0,[p(void 0,"if")].concat([g.apply(void 0,[p(void 0,"not")].concat([r]))],[g.apply(void 0,[p(void 0,"throw")].concat([g.apply(void 0,[p(void 0,"Error")].concat([g.apply(void 0,[p(void 0,"str")].concat(["Assert failed: "],[i],[e]))]))]))]))}.call(this);default:throw RangeError("Wrong number of arguments passed")}});var Je=n.expandDefprotocol=function(s,u){var c=Array.prototype.slice.call(arguments,2);return function(){var i=f(((s||0).ns||0).name),o=f(u),e=(j(y(c))?y(c):void 0)?w(c):c,t=E(function(n,r){return function(){var e=y(r),t=Fe(i+"$"+o+"$"+f(e));return S(n,{id:e,fn:g.apply(void 0,[p(void 0,"fn")].concat([t],[[p(void 0,"self")].concat()],[g.apply(void 0,[p(void 0,"def")].concat([p(void 0,"f")],[g.apply(void 0,[p(void 0,"cond")].concat([g.apply(void 0,[p(void 0,"identical?")].concat([p(void 0,"self")],[p(void 0,"null")]))],[g.apply(void 0,[p(void 0,".-nil")].concat([t]))],[g.apply(void 0,[p(void 0,"identical?")].concat([p(void 0,"self")],[void 0]))],[g.apply(void 0,[p(void 0,".-nil")].concat([t]))],["꞉else"],[g.apply(void 0,[p(void 0,"or")].concat([g.apply(void 0,[p(void 0,"aget")].concat([p(void 0,"self")],[g.apply(void 0,[p(void 0,"quote")].concat([t]))]))],[g.apply(void 0,[p(void 0,"aget")].concat([t],[g.apply(void 0,[p(void 0,".replace")].concat([g.apply(void 0,[p(void 0,".replace")].concat([g.apply(void 0,[p(void 0,".call")].concat([p(void 0,"Object.prototype.toString")],[p(void 0,"self")]))],["[object "],[""]))],[/\]$/],[""]))]))],[g.apply(void 0,[p(void 0,".-_")].concat([t]))]))]))]))],[g.apply(void 0,[p(void 0,".apply")].concat([p(void 0,"f")],[p(void 0,"self")],[p(void 0,"arguments")]))]))})}.call(this)},[],e),n=A(function(e){return g.apply(void 0,[p(void 0,"def")].concat([(e||0).id],[g.apply(void 0,[p(void 0,"aget")].concat([u],[g.apply(void 0,[p(void 0,"quote")].concat([(e||0).id]))]))]))},t),r=M({},p(void 0,"wisp_core$IProtocol$id"),i+"/"+o),a=E(function(e,t){return M(e,(t||0).id,(t||0).fn)},r,t);return g.apply(void 0,[l(p(void 0,"do"),{block:!0})].concat([g.apply(void 0,[p(void 0,"def")].concat([u],[a]))],x(n),[u]))}.call(this)};G("defprotocol",l(Je,{implicit:["&env"]}));var Xe=n.expandDeftype=function(s,r){var i=Array.prototype.slice.call(arguments,2);return function(){var e=A(function(e){return g.apply(void 0,[p(void 0,"set!")].concat([g.apply(void 0,[p(void 0,"aget")].concat([p(void 0,"this")],[g.apply(void 0,[p(void 0,"quote")].concat([e]))]))],[e]))},r),t=S(e,p(void 0,"this")),a=A(function(e){return g.apply(void 0,[p(void 0,"def")].concat([e],[g.apply(void 0,[p(void 0,"aget")].concat([p(void 0,"this")],[g.apply(void 0,[p(void 0,"quote")].concat([e]))]))]))},r),n=(E(function(e,t){return m(t)?S(e,{body:S((e||0).body,function(i,o){return function(){var e=y(o),t=v(o),n=w(w(o)),r=N(f(i),"Object")?g.apply(void 0,[p(void 0,"quote")].concat([e])):g.apply(void 0,[p(void 0,".-name")].concat([g.apply(void 0,[p(void 0,"aget")].concat([i],[g.apply(void 0,[p(void 0,"quote")].concat([e]))]))]));return g.apply(void 0,[p(void 0,"set!")].concat([g.apply(void 0,[p(void 0,"aget")].concat([g.apply(void 0,[p(void 0,".-prototype")].concat([s]))],[r]))],[g.apply(void 0,[p(void 0,"fn")].concat([t],x(a),x(n)))]))}.call(this)}((e||0).protocol,t))}):S(e,{protocol:t,body:S((e||0).body,(n=t,g.apply(void 0,[p(void 0,"set!")].concat([g.apply(void 0,[p(void 0,"aget")].concat([g.apply(void 0,[p(void 0,".-prototype")].concat([s]))],[g.apply(void 0,[p(void 0,".-wisp_core$IProtocol$id")].concat([n]))]))],[!0]))))});var n},{protocol:void 0,body:[]},i)||0).body;return g.apply(void 0,[p(void 0,"def")].concat([s],[g.apply(void 0,[p(void 0,"do")].concat([g.apply(void 0,[p(void 0,"defn-")].concat([s],[r],x(t)))],x(n),[s]))]))}.call(this)};G("deftype",Xe),G("defrecord",Xe),G("extend-type",n.expandExtendType=function(s){var t=Array.prototype.slice.call(arguments,1);return function(){N(s,p(void 0,"default")),D(s);var a=D(s)?p("nil"):N(s,p(void 0,"default"))?p(void 0,"_"):N(s,p(void 0,"number"))?p(void 0,"Number"):N(s,p(void 0,"string"))?p(void 0,"String"):N(s,p(void 0,"boolean"))?p(void 0,"Boolean"):N(s,p(void 0,"vector"))?p(void 0,"Array"):N(s,p(void 0,"function"))?p(void 0,"Function"):N(s,p(void 0,"re-pattern"))?p(void 0,"RegExp"):N(u(s),"js")?s:void 0,e=(E(function(e,t){return m(t)?S(e,{methods:S((e||0).methods,function(i,o){return function(){var e=y(o),t=v(o),n=w(w(o)),r=a?g.apply(void 0,[p(void 0,"aget")].concat([g.apply(void 0,[p(void 0,"aget")].concat([i],[g.apply(void 0,[p(void 0,"quote")].concat([e]))]))],[g.apply(void 0,[p(void 0,"quote")].concat([a]))])):g.apply(void 0,[p(void 0,"aget")].concat([g.apply(void 0,[p(void 0,".-prototype")].concat([s]))],[g.apply(void 0,[p(void 0,".-name")].concat([g.apply(void 0,[p(void 0,"aget")].concat([i],[g.apply(void 0,[p(void 0,"quote")].concat([e]))]))]))]));return g.apply(void 0,[p(void 0,"set!")].concat([r],[g.apply(void 0,[p(void 0,"fn")].concat([t],x(n)))]))}.call(this)}((e||0).protocol,t))}):S(e,{protocol:t,methods:S((e||0).methods,(n=t,a?g.apply(void 0,[p(void 0,"set!")].concat([g.apply(void 0,[p(void 0,"aget")].concat([n],[g.apply(void 0,[p(void 0,"quote")].concat([p("wisp_core$IProtocol$"+f(a))]))]))],[!0])):g.apply(void 0,[p(void 0,"set!")].concat([g.apply(void 0,[p(void 0,"aget")].concat([g.apply(void 0,[p(void 0,".-prototype")].concat([s]))],[g.apply(void 0,[p(void 0,".-wisp_core$IProtocol$id")].concat([n]))]))],[!0]))))});var n},{protocol:void 0,methods:[]},t)||0).methods;return g.apply(void 0,[p(void 0,"do")].concat(x(e),[void 0]))}.call(this)}),G("extend-protocol",n.expandExtendProtocol=function(n){var r=Array.prototype.slice.call(arguments,1);return function(){var e=E(function(e,t){return m(t)?b({type:(y(e)||0).type,methods:S((y(e)||0).methods,t)},w(e)):b({type:t,methods:[]},e)},void 0,r),t=A(function(e){return g.apply(void 0,[p(void 0,"extend-type")].concat([(e||0).type],[n],x((e||0).methods)))},e);return g.apply(void 0,[p(void 0,"do")].concat(x(t),[void 0]))}.call(this)}),G("aset",n.asetExpand=function(e,t,n){switch(arguments.length){case 3:var r=e,i=t,o=n;return g.apply(void 0,[p(void 0,"set!")].concat([g.apply(void 0,[p(void 0,"aget")].concat([r],[i]))],[o]));default:r=e,i=t;var a=n,s=Array.prototype.slice.call(arguments,3);return function(){var e=E(function(e,t){return g.apply(void 0,[p(void 0,"aget")].concat([e],[t]))},g.apply(void 0,[p(void 0,"aget")].concat([r],[i])),b(a,_(s))),t=C(s);return g.apply(void 0,[p(void 0,"set!")].concat([e],[t]))}.call(this)}}),G("alength",n.alengthExpand=function(e){return g.apply(void 0,[p(void 0,".-length")].concat([e]))})},{"./../../ast":"wisp/ast","./../../expander":"wisp/expander","./../../reader":"wisp/reader","./../../runtime":"wisp/runtime","./../../sequence":"wisp/sequence","./../../string":"wisp/string",escodegen:9}],3:[function(require,module,exports){var _ns_={id:"runner.main",doc:void 0},wisp_compiler=require("wisp/compiler"),compile=wisp_compiler.compile,_wisp_runtime=exports._wisp_runtime=require("../runtime.js"),_wisp_sequence=exports._wisp_sequence=require("../sequence.js"),_wisp_string=exports._wisp_string=require("../string.js"),fetchSource=exports.fetchSource=function(e,n){return function(){var t=new XMLHttpRequest;return t.open("GET",e,!0),t.addEventListener("load",function(e){return 200<=t.status&&t.status<300?n(t.responseText):console.error(t.statusText)},!1),t.overrideMimeType&&t.overrideMimeType("text/plain"),t.setRequestHeader("If-Modified-Since","Fri, 01 Jan 1960 00:00:00 GMT"),t.send(null)}.call(this)},runWispCode=exports.runWispCode=function runWispCode(code,url){return function(){var resultø1=compile(code,{"source-uri":url||"inline"}),errorø1=(resultø1||0).error;return errorø1?console.error(errorø1):Function(eval((resultø1||0).code))()}.call(this)},fetchAndRunWispCode=exports.fetchAndRunWispCode=function(t){return fetchSource(t,function(e){return runWispCode(e,t)})},__main__=exports.__main__=function(){return[_wisp_runtime,_wisp_sequence,_wisp_string].map(function(t){return Object.keys(t).map(function(e){return(window||0)[e]=(t||0)[e]})}),function(){var o=document.getElementsByTagName("script");return function r(){for(var e=r,i=0;e=i<o.length?function(){var e=(o||0)[i],t=e.src,n=e.text;return"application/wisp"==e.type&&(t&&fetchAndRunWispCode(t),n&&runWispCode(n,t)),r[0]=i+1,r}.call(this):void 0,i=r[0],e===r;);return e}.call(this)}.call(this)};window.addEventListener("load",__main__,!1)},{"../runtime.js":"wisp/runtime","../sequence.js":"wisp/sequence","../string.js":"wisp/string","wisp/compiler":"wisp/compiler"}],4:[function(n,e,t){(function(a,l){"use strict";e.exports=function(s,u){var f,d,h={},m={},c=!1,t=n("path");function g(e,t){var n;return e&&"."===e.charAt(0)&&t&&(function(e){var t,n;for(t=0;e[t];t+=1)if("."===(n=e[t]))e.splice(t,1),--t;else if(".."===n){if(1===t&&(".."===e[2]||".."===e[0]))break;0<t&&(e.splice(t-1,2),t-=2)}}(n=(n=(n=t.split("/")).slice(0,n.length-1)).concat(e.split("/"))),e=n.join("/")),e}function y(e,t,n){var r,i,o,a;if(e)i=m[e]={},r=f(u,i,o={id:e,uri:l,exports:i},e);else{if(c)throw new Error("amdefine with no module ID cannot be called more than once per file.");c=!0,i=s.exports,r=f(u,i,o=s,s.id)}t=t&&t.map(function(e){return r(e)}),void 0!==(a="function"==typeof n?n.apply(o.exports,t):n)&&(o.exports=a,e&&(m[e]=o.exports))}function e(e,t,n){Array.isArray(e)?(n=t,t=e,e=void 0):"string"!=typeof e&&(n=e,e=t=void 0),t&&!Array.isArray(t)&&(n=t,t=void 0),t=t||["require","exports","module"],e?h[e]=[e,t,n]:y(e,t,n)}return f=function(n,r,i,o){function e(e,t){if("string"==typeof e)return d(n,r,i,e,o);e=e.map(function(e){return d(n,r,i,e,o)}),t&&a.nextTick(function(){t.apply(null,e)})}return e.toUrl=function(e){return 0===e.indexOf(".")?g(e,t.dirname(i.filename)):e},e},u=u||function(){return s.require.apply(s,arguments)},d=function(e,t,n,r,i){var o,a,s,u,c=r.indexOf("!"),l=r;if(-1!==c)return o=r.substring(0,c),r=r.substring(c+1,r.length),r=(a=d(e,t,n,o,i)).normalize?a.normalize(r,(u=i,function(e){return g(e,u)})):g(r,i),m[r]||a.load(r,f(e,t,n,i),(s=r,p.fromText=function(e,t){throw new Error("amdefine does not implement load.fromText")},p),{}),m[r];if("require"===(r=g(r,i)))return f(e,t,n,i);if("exports"===r)return t;if("module"===r)return n;if(m.hasOwnProperty(r))return m[r];if(h[r])return y.apply(null,h[r]),m[r];if(e)return e(l);throw new Error("No module with ID: "+r);function p(e){m[s]=e}},e.require=function(e){return m[e]?m[e]:h[e]?(y.apply(null,h[e]),m[e]):void 0},e.amd={},e}}).call(this,n("_process"),"/node_modules/amdefine/amdefine.js")},{_process:17,path:16}],5:[function(e,n,t){(function(t){n.exports=function(e){return new t(e).toString("base64")}}).call(this,e("buffer").Buffer)},{buffer:8}],6:[function(e,t,n){"use strict";n.byteLength=function(e){var t=p(e),n=t[0],r=t[1];return 3*(n+r)/4-r},n.toByteArray=function(e){var t,n,r=p(e),i=r[0],o=r[1],a=new l(function(e,t,n){return 3*(t+n)/4-n}(0,i,o)),s=0,u=0<o?i-4:i;for(n=0;n<u;n+=4)t=c[e.charCodeAt(n)]<<18|c[e.charCodeAt(n+1)]<<12|c[e.charCodeAt(n+2)]<<6|c[e.charCodeAt(n+3)],a[s++]=t>>16&255,a[s++]=t>>8&255,a[s++]=255&t;2===o&&(t=c[e.charCodeAt(n)]<<2|c[e.charCodeAt(n+1)]>>4,a[s++]=255&t);1===o&&(t=c[e.charCodeAt(n)]<<10|c[e.charCodeAt(n+1)]<<4|c[e.charCodeAt(n+2)]>>2,a[s++]=t>>8&255,a[s++]=255&t);return a},n.fromByteArray=function(e){for(var t,n=e.length,r=n%3,i=[],o=0,a=n-r;o<a;o+=16383)i.push(u(e,o,a<o+16383?a:o+16383));1==r?(t=e[n-1],i.push(s[t>>2]+s[t<<4&63]+"==")):2==r&&(t=(e[n-2]<<8)+e[n-1],i.push(s[t>>10]+s[t>>4&63]+s[t<<2&63]+"="));return i.join("")};for(var s=[],c=[],l="undefined"!=typeof Uint8Array?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,o=r.length;i<o;++i)s[i]=r[i],c[r.charCodeAt(i)]=i;function p(e){var t=e.length;if(0<t%4)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function u(e,t,n){for(var r,i,o=[],a=t;a<n;a+=3)r=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),o.push(s[(i=r)>>18&63]+s[i>>12&63]+s[i>>6&63]+s[63&i]);return o.join("")}c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63},{}],7:[function(e,t,n){},{}],8:[function(D,e,P){(function(p){"use strict";var r=D("base64-js"),o=D("ieee754"),e="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;P.Buffer=p,P.SlowBuffer=function(e){+e!=e&&(e=0);return p.alloc(+e)},P.INSPECT_MAX_BYTES=50;var n=2147483647;function a(e){if(n<e)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,p.prototype),t}function p(e,t,n){if("number"!=typeof e)return i(e,t,n);if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return u(e)}function i(e,t,n){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!p.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|f(e,t),r=a(n),i=r.write(e,t);i!==n&&(r=r.slice(0,i));return r}(e,t);if(ArrayBuffer.isView(e))return c(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(L(e,ArrayBuffer)||e&&L(e.buffer,ArrayBuffer))return function(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n);return Object.setPrototypeOf(r,p.prototype),r}(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return p.from(r,t,n);var i=function(e){if(p.isBuffer(e)){var t=0|l(e.length),n=a(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return"number"!=typeof e.length||B(e.length)?a(0):c(e);if("Buffer"===e.type&&Array.isArray(e.data))return c(e.data)}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return p.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function s(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function u(e){return s(e),a(e<0?0:0|l(e))}function c(e){for(var t=e.length<0?0:0|l(e.length),n=a(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function l(e){if(n<=e)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n.toString(16)+" bytes");return 0|e}function f(e,t){if(p.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||L(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,r=2<arguments.length&&!0===arguments[2];if(!r&&0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return M(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return R(e).length;default:if(i)return r?-1:M(e).length;t=(""+t).toLowerCase(),i=!0}}function d(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function h(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):2147483647<n?n=2147483647:n<-2147483648&&(n=-2147483648),B(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=p.from(t,r)),p.isBuffer(t))return 0===t.length?-1:m(e,t,n,r,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):m(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function m(e,t,n,r,i){var o,a=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s/=a=2,u/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var l=-1;for(o=n;o<s;o++)if(c(e,o)===c(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(s<n+u&&(n=s-u),o=n;0<=o;o--){for(var p=!0,f=0;f<u;f++)if(c(e,o+f)!==c(t,f)){p=!1;break}if(p)return o}return-1}function g(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?i<(r=Number(r))&&(r=i):r=i;var o=t.length;o/2<r&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(B(s))return a;e[n+a]=s}return a}function y(e,t,n,r){return j(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function v(e,t,n,r){return j(function(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function w(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function b(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,s,u,c=e[i],l=null,p=239<c?4:223<c?3:191<c?2:1;if(i+p<=n)switch(p){case 1:c<128&&(l=c);break;case 2:128==(192&(o=e[i+1]))&&127<(u=(31&c)<<6|63&o)&&(l=u);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&2047<(u=(15&c)<<12|(63&o)<<6|63&a)&&(u<55296||57343<u)&&(l=u);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&65535<(u=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)&&u<1114112&&(l=u)}null===l?(l=65533,p=1):65535<l&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=p}return function(e){var t=e.length;if(t<=S)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=S));return n}(r)}P.kMaxLength=n,(p.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}())||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(p.prototype,"parent",{enumerable:!0,get:function(){if(p.isBuffer(this))return this.buffer}}),Object.defineProperty(p.prototype,"offset",{enumerable:!0,get:function(){if(p.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&p[Symbol.species]===p&&Object.defineProperty(p,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),p.poolSize=8192,p.from=function(e,t,n){return i(e,t,n)},Object.setPrototypeOf(p.prototype,Uint8Array.prototype),Object.setPrototypeOf(p,Uint8Array),p.alloc=function(e,t,n){return i=t,o=n,s(r=e),r<=0?a(r):void 0!==i?"string"==typeof o?a(r).fill(i,o):a(r).fill(i):a(r);var r,i,o},p.allocUnsafe=function(e){return u(e)},p.allocUnsafeSlow=function(e){return u(e)},p.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==p.prototype},p.compare=function(e,t){if(L(e,Uint8Array)&&(e=p.from(e,e.offset,e.byteLength)),L(t,Uint8Array)&&(t=p.from(t,t.offset,t.byteLength)),!p.isBuffer(e)||!p.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},p.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},p.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return p.alloc(0);var n;if(void 0===t)for(n=t=0;n<e.length;++n)t+=e[n].length;var r=p.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(L(o,Uint8Array)&&(o=p.from(o)),!p.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},p.byteLength=f,p.prototype._isBuffer=!0,p.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)d(this,t,t+1);return this},p.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)d(this,t,t+3),d(this,t+1,t+2);return this},p.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)d(this,t,t+7),d(this,t+1,t+6),d(this,t+2,t+5),d(this,t+3,t+4);return this},p.prototype.toLocaleString=p.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?b(this,0,e):function(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e=e||"utf8";;)switch(e){case"hex":return x(this,t,n);case"utf8":case"utf-8":return b(this,t,n);case"ascii":return _(this,t,n);case"latin1":case"binary":return E(this,t,n);case"base64":return w(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}.apply(this,arguments)},p.prototype.equals=function(e){if(!p.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===p.compare(this,e)},p.prototype.inspect=function(){var e="",t=P.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},e&&(p.prototype[e]=p.prototype.inspect),p.prototype.compare=function(e,t,n,r,i){if(L(e,Uint8Array)&&(e=p.from(e,e.offset,e.byteLength)),!p.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(i<=r&&n<=t)return 0;if(i<=r)return-1;if(n<=t)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),u=this.slice(r,i),c=e.slice(t,n),l=0;l<s;++l)if(u[l]!==c[l]){o=u[l],a=c[l];break}return o<a?-1:a<o?1:0},p.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},p.prototype.indexOf=function(e,t,n){return h(this,e,t,n,!0)},p.prototype.lastIndexOf=function(e,t,n){return h(this,e,t,n,!1)},p.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||i<n)&&(n=i),0<e.length&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r=r||"utf8";for(var o,a,s,u,c,l,p=!1;;)switch(r){case"hex":return g(this,e,t,n);case"utf8":case"utf-8":return c=t,l=n,j(M(e,(u=this).length-c),u,c,l);case"ascii":return y(this,e,t,n);case"latin1":case"binary":return y(this,e,t,n);case"base64":return o=this,a=t,s=n,j(R(e),o,a,s);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return v(this,e,t,n);default:if(p)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),p=!0}},p.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var S=4096;function _(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function E(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function x(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||r<n)&&(n=r);for(var i="",o=t;o<n;++o)i+=T[e[o]];return i}function C(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function A(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(n<e+t)throw new RangeError("Trying to access beyond buffer length")}function q(e,t,n,r,i,o){if(!p.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(i<t||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function k(e,t,n,r){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function I(e,t,n,r,i){return t=+t,n>>>=0,i||k(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function O(e,t,n,r,i){return t=+t,n>>>=0,i||k(e,0,n,8),o.write(e,t,n,r,52,8),n+8}p.prototype.slice=function(e,t){var n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):n<e&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):n<t&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return Object.setPrototypeOf(r,p.prototype),r},p.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||A(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},p.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||A(e,t,this.length);for(var r=this[e+--t],i=1;0<t&&(i*=256);)r+=this[e+--t]*i;return r},p.prototype.readUInt8=function(e,t){return e>>>=0,t||A(e,1,this.length),this[e]},p.prototype.readUInt16LE=function(e,t){return e>>>=0,t||A(e,2,this.length),this[e]|this[e+1]<<8},p.prototype.readUInt16BE=function(e,t){return e>>>=0,t||A(e,2,this.length),this[e]<<8|this[e+1]},p.prototype.readUInt32LE=function(e,t){return e>>>=0,t||A(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},p.prototype.readUInt32BE=function(e,t){return e>>>=0,t||A(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},p.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||A(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return(i*=128)<=r&&(r-=Math.pow(2,8*t)),r},p.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||A(e,t,this.length);for(var r=t,i=1,o=this[e+--r];0<r&&(i*=256);)o+=this[e+--r]*i;return(i*=128)<=o&&(o-=Math.pow(2,8*t)),o},p.prototype.readInt8=function(e,t){return e>>>=0,t||A(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},p.prototype.readInt16LE=function(e,t){e>>>=0,t||A(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},p.prototype.readInt16BE=function(e,t){e>>>=0,t||A(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},p.prototype.readInt32LE=function(e,t){return e>>>=0,t||A(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},p.prototype.readInt32BE=function(e,t){return e>>>=0,t||A(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},p.prototype.readFloatLE=function(e,t){return e>>>=0,t||A(e,4,this.length),o.read(this,e,!0,23,4)},p.prototype.readFloatBE=function(e,t){return e>>>=0,t||A(e,4,this.length),o.read(this,e,!1,23,4)},p.prototype.readDoubleLE=function(e,t){return e>>>=0,t||A(e,8,this.length),o.read(this,e,!0,52,8)},p.prototype.readDoubleBE=function(e,t){return e>>>=0,t||A(e,8,this.length),o.read(this,e,!1,52,8)},p.prototype.writeUIntLE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||q(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},p.prototype.writeUIntBE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||q(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;0<=--i&&(o*=256);)this[t+i]=e/o&255;return t+n},p.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||q(this,e,t,1,255,0),this[t]=255&e,t+1},p.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||q(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},p.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||q(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},p.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||q(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},p.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||q(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},p.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);q(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},p.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);q(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;0<=--o&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},p.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||q(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},p.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||q(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},p.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||q(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},p.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||q(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},p.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||q(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},p.prototype.writeFloatLE=function(e,t,n){return I(this,e,t,!0,n)},p.prototype.writeFloatBE=function(e,t,n){return I(this,e,t,!1,n)},p.prototype.writeDoubleLE=function(e,t,n){return O(this,e,t,!0,n)},p.prototype.writeDoubleBE=function(e,t,n){return O(this,e,t,!1,n)},p.prototype.copy=function(e,t,n,r){if(!p.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n=n||0,r||0===r||(r=this.length),t>=e.length&&(t=e.length),t=t||0,0<r&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i=r-n;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,n,r);else if(this===e&&n<t&&t<r)for(var o=i-1;0<=o;--o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,r),t);return i},p.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!p.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){var i=e.charCodeAt(0);("utf8"===r&&i<128||"latin1"===r)&&(e=i)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,"number"==typeof(e=e||0))for(o=t;o<n;++o)this[o]=e;else{var a=p.isBuffer(e)?e:p.from(e,r),s=a.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var t=/[^+/0-9A-Za-z-_]/g;function M(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if(55295<(n=e.charCodeAt(a))&&n<57344){if(!i){if(56319<n){-1<(t-=3)&&o.push(239,191,189);continue}if(a+1===r){-1<(t-=3)&&o.push(239,191,189);continue}i=n;continue}if(n<56320){-1<(t-=3)&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&-1<(t-=3)&&o.push(239,191,189);if(i=null,n<128){if(--t<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function R(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(t,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function j(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function L(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function B(e){return e!=e}var T=function(){for(var e="0123456789abcdef",t=new Array(256),n=0;n<16;++n)for(var r=16*n,i=0;i<16;++i)t[r+i]=e[n]+e[i];return t}()}).call(this,D("buffer").Buffer)},{"base64-js":6,buffer:8,ieee754:15}],9:[function(Z,e,ee){(function(X){!function(){"use strict";var S,_,E,o,e,x,d,C,c,l,a,s,h,p,A,q,k,m,g,y,I,u,v,t,n;function f(){return{indent:null,base:null,parse:null,comment:!1,format:{indent:{style:"    ",base:0,adjustMultilineComment:!1},newline:"\n",space:" ",json:!1,renumber:!1,hexadecimal:!1,quotes:"single",escapeless:!1,compact:!1,parentheses:!0,semicolons:!0,safeConcatenation:!1},moz:{comprehensionExpressionStartsWithAssignment:!1,starlessGenerator:!1,parenthesizedComprehensionBlock:!1},sourceMap:null,sourceMapRoot:null,sourceMapWithCode:!1,directive:!1,raw:!0,verbatim:null}}function w(e,t){var n="";for(t|=0;0<t;t>>>=1,e+=e)1&t&&(n+=e);return n}function O(e){var t=e.length;return t&&x.code.isLineTerminator(e.charCodeAt(t-1))}function b(e,t){var n,r;function i(e){return"object"==typeof e&&e instanceof Object&&!(e instanceof RegExp)}for(n in t)t.hasOwnProperty(n)&&(i(r=t[n])?i(e[n])?b(e[n],r):e[n]=b({},r):e[n]=r);return e}function M(e,t){return 8232==(-2&e)?(t?"u":"\\u")+(8232===e?"2028":"2029"):10===e||13===e?(t?"":"\\")+(10===e?"n":"r"):String.fromCharCode(e)}function R(e,t){var n,r="\\";switch(e){case 8:r+="b";break;case 12:r+="f";break;case 9:r+="t";break;default:n=e.toString(16).toUpperCase(),l||255<e?r+="u"+"0000".slice(n.length)+n:0!==e||x.code.isDecimalDigit(t)?r+=11===e?"x0B":"x"+"00".slice(n.length)+n:r+="0"}return r}function j(e){var t="\\";switch(e){case 92:t+="\\";break;case 10:t+="n";break;case 13:t+="r";break;case 8232:t+="u2028";break;case 8233:t+="u2029";break;default:throw new Error("Incorrectly classified character")}return t}function L(e,t){if(!v)return d(e)?function e(t){var n,r,i,o="";for(n=0,r=t.length;n<r;++n)i=t[n],o+=d(i)?e(i):i;return o}(e):e;if(null==t){if(e instanceof o)return e;t={}}return null==t.loc?new o(null,null,v,e,t.name||null):new o(t.loc.start.line,t.loc.start.column,!0===v?t.loc.source||null:v,e,t.name||null)}function B(){return q||" "}function T(e,t){var n=L(e).toString(),r=L(t).toString(),i=n.charCodeAt(n.length-1),o=r.charCodeAt(0);return(43===i||45===i)&&i===o||x.code.isIdentifierPart(i)&&x.code.isIdentifierPart(o)||47===i&&105===o?[e,B(),t]:x.code.isWhiteSpace(i)||x.code.isLineTerminator(i)||x.code.isWhiteSpace(o)||x.code.isLineTerminator(o)?[e,t]:[e,q,t]}function D(e){return[C,e]}function P(e){var t,n;return t=C,C+=c,n=e.call(this,C),C=t,n}function F(e,t){return"Line"===e.type?O(e.value)?"//"+e.value:"//"+e.value+"\n":I.format.indent.adjustMultilineComment&&/[\n\r]/.test(e.value)?function(e,t){var n,r,i,o,a,s,u,c;for(n=e.split(/\r\n|[\r\n]/),s=Number.MAX_VALUE,r=1,i=n.length;r<i;++r){for(o=n[r],a=0;a<o.length&&x.code.isWhiteSpace(o.charCodeAt(a));)++a;a<s&&(s=a)}for(void 0!==t?(u=C,"*"===n[1][s]&&(t+=" "),C=t):(1&s&&--s,u=C),r=1,i=n.length;r<i;++r)c=L(D(n[r].slice(s))),n[r]=v?c.join(""):c;return C=u,n.join("\n")}("/*"+e.value+"*/",t):"/*"+e.value+"*/"}function N(e,t){var n,r,i,o,a,s,u;if(e.leadingComments&&0<e.leadingComments.length){for(o=t,i=e.leadingComments[0],t=[],g&&e.type===S.Program&&0===e.body.length&&t.push("\n"),t.push(F(i)),O(L(t).toString())||t.push("\n"),n=1,r=e.leadingComments.length;n<r;++n)O(L(u=[F(i=e.leadingComments[n])]).toString())||u.push("\n"),t.push(D(u));t.push(D(o))}if(e.trailingComments)for(a=!O(L(t).toString()),s=w(" ",function(e){var t;for(t=e.length-1;0<=t&&!x.code.isLineTerminator(e.charCodeAt(t));--t);return e.length-1-t}(L([C,t,c]).toString())),n=0,r=e.trailingComments.length;n<r;++n)i=e.trailingComments[n],a?(t=0===n?[t,c]:[t,s]).push(F(i,s)):t=[t,D(F(i))],n===r-1||O(L(t).toString())||(t=[t,"\n"]);return t}function U(e,t,n){return t<n?["(",e,")"]:e}function z(e,t,n){var r,i;return i=!I.comment||!e.leadingComments,e.type===S.BlockStatement&&i?[q,J(e,{functionBody:n})]:e.type===S.EmptyStatement&&i?";":(P(function(){r=[A,D(J(e,{semicolonOptional:t,functionBody:n}))]}),r)}function W(e,t){var n=O(L(t).toString());return e.type!==S.BlockStatement||I.comment&&e.leadingComments||n?n?[t,C]:[t,A,C]:[t,q]}function V(e){var t,n,r;for(t=1,n=(r=e.split(/\r\n|\n/)).length;t<n;t++)r[t]=A+C+r[t];return r}function $(e){return L(e.name,e)}function G(e,t){return e.type===S.Identifier?$(e):Y(e,{precedence:t.precedence,allowIn:t.allowIn,allowCall:!0})}function Q(e){var t,n,r,i,o;if((o=e.type===S.ArrowFunctionExpression)&&1===e.params.length&&e.params[0].type===S.Identifier)t=[$(e.params[0])];else{for(t=["("],n=0,r=e.params.length;n<r;++n)t.push(G(e.params[n],{precedence:_.Assignment,allowIn:!0})),n+1<r&&t.push(","+q);t.push(")")}return o&&(t.push(q),t.push("=>")),e.expression?(t.push(q),"{"===(i=Y(e.body,{precedence:_.Assignment,allowIn:!0,allowCall:!0})).toString().charAt(0)&&(i=["(",i,")"]),t.push(i)):t.push(z(e.body,!1,!0)),t}function K(e,t,n){var r=["for"+q+"("];return P(function(){t.left.type===S.VariableDeclaration?P(function(){r.push(t.left.kind+B()),r.push(J(t.left.declarations[0],{allowIn:!1}))}):r.push(Y(t.left,{precedence:_.Call,allowIn:!0,allowCall:!0})),r=T(r,e),r=[T(r,Y(t.right,{precedence:_.Sequence,allowIn:!0,allowCall:!0})),")"]}),r.push(z(t.body,n)),r}function H(e){var t;if(e.hasOwnProperty("raw")&&u&&I.raw)try{if((t=u(e.raw).body[0].expression).type===S.Literal&&t.value===e.value)return e.raw}catch(e){}return null===e.value?"null":"string"==typeof e.value?function(e){var t,n,r,i,o,a="",s=0,u=0;for(t=0,n=e.length;t<n;++t){if(39===(r=e.charCodeAt(t)))++s;else if(34===r)++u;else if(47===r&&l)a+="\\";else{if(x.code.isLineTerminator(r)||92===r){a+=j(r);continue}if(l&&r<32||!(l||p||32<=r&&r<=126)){a+=R(r,e.charCodeAt(t+1));continue}}a+=String.fromCharCode(r)}if(o=(i=!("double"===h||"auto"===h&&u<s))?"'":'"',!(i?s:u))return o+a+o;for(e=a,a=o,t=0,n=e.length;t<n;++t)(39===(r=e.charCodeAt(t))&&i||34===r&&!i)&&(a+="\\"),a+=String.fromCharCode(r);return a+o}(e.value):"number"==typeof e.value?function(e){var t,n,r,i,o;if(e!=e)throw new Error("Numeric literal whose value is NaN");if(e<0||0===e&&1/e<0)throw new Error("Numeric literal whose value is negative");if(e===1/0)return l?"null":a?"1e400":"1e+400";if(t=""+e,!a||t.length<3)return t;for(n=t.indexOf("."),l||48!==t.charCodeAt(0)||1!==n||(n=0,t=t.slice(1)),t=(r=t).replace("e+","e"),(i=0)<(o=r.indexOf("e"))&&(i=+r.slice(o+1),r=r.slice(0,o)),0<=n&&(i-=r.length-n-1,r=+(r.slice(0,n)+r.slice(n+1))+""),o=0;48===r.charCodeAt(r.length+o-1);)--o;return 0!==o&&(i-=o,r=r.slice(0,o)),0!==i&&(r+="e"+i),(r.length<t.length||s&&1e12<e&&Math.floor(e)===e&&(r="0x"+e.toString(16)).length<t.length)&&+r===e&&(t=r),t}(e.value):"boolean"==typeof e.value?e.value?"true":"false":function(e){var t,n,r,i,o,a,s,u;if(n=e.toString(),e.source){if(!(t=n.match(/\/([^/]*)$/)))return n;for(r=t[1],n="",u=s=!1,i=0,o=e.source.length;i<o;++i)a=e.source.charCodeAt(i),u=u?(n+=M(a,u),!1):(s?93===a&&(s=!1):47===a?n+="\\":91===a&&(s=!0),n+=M(a,u),92===a);return"/"+n+"/"+r}return n}(e.value)}function Y(t,e){var n,r,i,o,a,s,u,c,l,p,f,d,h,m,g,y,v,w,b;if(r=e.precedence,d=e.allowIn,h=e.allowCall,i=t.type||e.type,I.verbatim&&t.hasOwnProperty(I.verbatim))return v=e,L("string"==typeof(w=(y=t)[I.verbatim])?U(V(w),_.Sequence,v.precedence):U(V(w.content),null!=w.precedence?w.precedence:_.Sequence,v.precedence),y);switch(i){case S.SequenceExpression:for(n=[],d|=_.Sequence<r,a=0,s=t.expressions.length;a<s;++a)n.push(Y(t.expressions[a],{precedence:_.Assignment,allowIn:d,allowCall:!0})),a+1<s&&n.push(","+q);n=U(n,_.Sequence,r);break;case S.AssignmentExpression:d|=_.Assignment<r,n=U([Y(t.left,{precedence:_.Call,allowIn:d,allowCall:!0}),q+t.operator+q,Y(t.right,{precedence:_.Assignment,allowIn:d,allowCall:!0})],_.Assignment,r);break;case S.ArrowFunctionExpression:d|=_.ArrowFunction<r,n=U(Q(t),_.ArrowFunction,r);break;case S.ConditionalExpression:d|=_.Conditional<r,n=U([Y(t.test,{precedence:_.LogicalOR,allowIn:d,allowCall:!0}),q+"?"+q,Y(t.consequent,{precedence:_.Assignment,allowIn:d,allowCall:!0}),q+":"+q,Y(t.alternate,{precedence:_.Assignment,allowIn:d,allowCall:!0})],_.Conditional,r);break;case S.LogicalExpression:case S.BinaryExpression:d|=(o=E[t.operator])<r,p=(u=Y(t.left,{precedence:o,allowIn:d,allowCall:!0})).toString(),n=47===p.charCodeAt(p.length-1)&&x.code.isIdentifierPart(t.operator.charCodeAt(0))?[u,B(),t.operator]:T(u,t.operator),u=Y(t.right,{precedence:o+1,allowIn:d,allowCall:!0}),"/"===t.operator&&"/"===u.toString().charAt(0)||"<"===t.operator.slice(-1)&&"!--"===u.toString().slice(0,3)?(n.push(B()),n.push(u)):n=T(n,u),n="in"!==t.operator||d?U(n,o,r):["(",n,")"];break;case S.CallExpression:for((n=[Y(t.callee,{precedence:_.Call,allowIn:!0,allowCall:!0,allowUnparenthesizedNew:!1})]).push("("),a=0,s=t.arguments.length;a<s;++a)n.push(Y(t.arguments[a],{precedence:_.Assignment,allowIn:!0,allowCall:!0})),a+1<s&&n.push(","+q);n.push(")"),n=h?U(n,_.Call,r):["(",n,")"];break;case S.NewExpression:if(s=t.arguments.length,m=void 0===e.allowUnparenthesizedNew||e.allowUnparenthesizedNew,n=T("new",Y(t.callee,{precedence:_.New,allowIn:!0,allowCall:!1,allowUnparenthesizedNew:m&&!k&&0===s})),!m||k||0<s){for(n.push("("),a=0;a<s;++a)n.push(Y(t.arguments[a],{precedence:_.Assignment,allowIn:!0,allowCall:!0})),a+1<s&&n.push(","+q);n.push(")")}n=U(n,_.New,r);break;case S.MemberExpression:n=[Y(t.object,{precedence:_.Call,allowIn:!0,allowCall:h,allowUnparenthesizedNew:!1})],t.computed?(n.push("["),n.push(Y(t.property,{precedence:_.Sequence,allowIn:!0,allowCall:h})),n.push("]")):(t.object.type===S.Literal&&"number"==typeof t.object.value&&(u=L(n).toString()).indexOf(".")<0&&!/[eExX]/.test(u)&&x.code.isDecimalDigit(u.charCodeAt(u.length-1))&&!(2<=u.length&&48===u.charCodeAt(0))&&n.push("."),n.push("."),n.push($(t.property))),n=U(n,_.Member,r);break;case S.UnaryExpression:u=Y(t.argument,{precedence:_.Unary,allowIn:!0,allowCall:!0}),""===q?n=T(t.operator,u):(n=[t.operator],2<t.operator.length?n=T(n,u):(l=(p=L(n).toString()).charCodeAt(p.length-1),f=u.toString().charCodeAt(0),((43===l||45===l)&&l===f||x.code.isIdentifierPart(l)&&x.code.isIdentifierPart(f))&&n.push(B()),n.push(u))),n=U(n,_.Unary,r);break;case S.YieldExpression:n=t.delegate?"yield*":"yield",t.argument&&(n=T(n,Y(t.argument,{precedence:_.Yield,allowIn:!0,allowCall:!0}))),n=U(n,_.Yield,r);break;case S.UpdateExpression:n=t.prefix?U([t.operator,Y(t.argument,{precedence:_.Unary,allowIn:!0,allowCall:!0})],_.Unary,r):U([Y(t.argument,{precedence:_.Postfix,allowIn:!0,allowCall:!0}),t.operator],_.Postfix,r);break;case S.FunctionExpression:g=t.generator&&!I.moz.starlessGenerator,n=g?"function*":"function",n=t.id?[n,g?q:B(),$(t.id),Q(t)]:[n+q,Q(t)];break;case S.ArrayPattern:case S.ArrayExpression:if(!t.elements.length){n="[]";break}c=1<t.elements.length,n=["[",c?A:""],P(function(e){for(a=0,s=t.elements.length;a<s;++a)t.elements[a]?(n.push(c?e:""),n.push(Y(t.elements[a],{precedence:_.Assignment,allowIn:!0,allowCall:!0}))):(c&&n.push(e),a+1===s&&n.push(",")),a+1<s&&n.push(","+(c?A:q))}),c&&!O(L(n).toString())&&n.push(A),n.push(c?C:""),n.push("]");break;case S.Property:"get"===t.kind||"set"===t.kind?n=[t.kind,B(),Y(t.key,{precedence:_.Sequence,allowIn:!0,allowCall:!0}),Q(t.value)]:t.shorthand?n=Y(t.key,{precedence:_.Sequence,allowIn:!0,allowCall:!0}):t.method?(n=[],t.value.generator&&n.push("*"),n.push(Y(t.key,{precedence:_.Sequence,allowIn:!0,allowCall:!0})),n.push(Q(t.value))):n=[Y(t.key,{precedence:_.Sequence,allowIn:!0,allowCall:!0}),":"+q,Y(t.value,{precedence:_.Assignment,allowIn:!0,allowCall:!0})];break;case S.ObjectExpression:if(!t.properties.length){n="{}";break}if(c=1<t.properties.length,P(function(){u=Y(t.properties[0],{precedence:_.Sequence,allowIn:!0,allowCall:!0,type:S.Property})}),!c&&(b=L(u).toString(),!/[\r\n]/g.test(b))){n=["{",q,u,q,"}"];break}P(function(e){if(n=["{",A,e,u],c)for(n.push(","+A),a=1,s=t.properties.length;a<s;++a)n.push(e),n.push(Y(t.properties[a],{precedence:_.Sequence,allowIn:!0,allowCall:!0,type:S.Property})),a+1<s&&n.push(","+A)}),O(L(n).toString())||n.push(A),n.push(C),n.push("}");break;case S.ObjectPattern:if(!t.properties.length){n="{}";break}if(c=!1,1===t.properties.length)t.properties[0].value.type!==S.Identifier&&(c=!0);else for(a=0,s=t.properties.length;a<s;++a)if(!t.properties[a].shorthand){c=!0;break}n=["{",c?A:""],P(function(e){for(a=0,s=t.properties.length;a<s;++a)n.push(c?e:""),n.push(Y(t.properties[a],{precedence:_.Sequence,allowIn:!0,allowCall:!0})),a+1<s&&n.push(","+(c?A:q))}),c&&!O(L(n).toString())&&n.push(A),n.push(c?C:""),n.push("}");break;case S.ThisExpression:n="this";break;case S.Identifier:n=$(t);break;case S.Literal:n=H(t);break;case S.GeneratorExpression:case S.ComprehensionExpression:n=i===S.GeneratorExpression?["("]:["["],I.moz.comprehensionExpressionStartsWithAssignment&&(u=Y(t.body,{precedence:_.Assignment,allowIn:!0,allowCall:!0}),n.push(u)),t.blocks&&P(function(){for(a=0,s=t.blocks.length;a<s;++a)u=Y(t.blocks[a],{precedence:_.Sequence,allowIn:!0,allowCall:!0}),0<a||I.moz.comprehensionExpressionStartsWithAssignment?n=T(n,u):n.push(u)}),t.filter&&(n=T(n,"if"+q),u=Y(t.filter,{precedence:_.Sequence,allowIn:!0,allowCall:!0}),n=I.moz.parenthesizedComprehensionBlock?T(n,["(",u,")"]):T(n,u)),I.moz.comprehensionExpressionStartsWithAssignment||(u=Y(t.body,{precedence:_.Assignment,allowIn:!0,allowCall:!0}),n=T(n,u)),n.push(i===S.GeneratorExpression?")":"]");break;case S.ComprehensionBlock:u=T(u=t.left.type===S.VariableDeclaration?[t.left.kind,B(),J(t.left.declarations[0],{allowIn:!1})]:Y(t.left,{precedence:_.Call,allowIn:!0,allowCall:!0}),t.of?"of":"in"),u=T(u,Y(t.right,{precedence:_.Sequence,allowIn:!0,allowCall:!0})),n=I.moz.parenthesizedComprehensionBlock?["for"+q+"(",u,")"]:T("for"+q,u);break;default:throw new Error("Unknown expression type: "+t.type)}return I.comment&&(n=N(t,n)),L(n,t)}function J(r,e){var t,n,i,o,a,s,u,c,l,p,f;switch(s=!0,c=u=!(p=";"),e&&(s=void 0===e.allowIn||e.allowIn,m||!0!==e.semicolonOptional||(p=""),u=e.functionBody,c=e.directiveContext),r.type){case S.BlockStatement:i=["{",A],P(function(){for(t=0,n=r.body.length;t<n;++t)l=D(J(r.body[t],{semicolonOptional:t===n-1,directiveContext:u})),i.push(l),O(L(l).toString())||i.push(A)}),i.push(D("}"));break;case S.BreakStatement:i=r.label?"break "+r.label.name+p:"break"+p;break;case S.ContinueStatement:i=r.label?"continue "+r.label.name+p:"continue"+p;break;case S.DirectiveStatement:i=I.raw&&r.raw?r.raw+p:function(e){var t,n,r,i;for(i="double"===h?'"':"'",t=0,n=e.length;t<n;++t){if(39===(r=e.charCodeAt(t))){i='"';break}if(34===r){i="'";break}92===r&&++t}return i+e+i}(r.directive)+p;break;case S.DoWhileStatement:i=T("do",z(r.body)),i=T(i=W(r.body,i),["while"+q+"(",Y(r.test,{precedence:_.Sequence,allowIn:!0,allowCall:!0}),")"+p]);break;case S.CatchClause:P(function(){var e;i=["catch"+q+"(",Y(r.param,{precedence:_.Sequence,allowIn:!0,allowCall:!0}),")"],r.guard&&(e=Y(r.guard,{precedence:_.Sequence,allowIn:!0,allowCall:!0}),i.splice(2,0," if ",e))}),i.push(z(r.body));break;case S.DebuggerStatement:i="debugger"+p;break;case S.EmptyStatement:i=";";break;case S.ExportDeclaration:if(i="export ",r.declaration){i=[i,J(r.declaration,{semicolonOptional:""===p})];break}break;case S.ExpressionStatement:i=[Y(r.expression,{precedence:_.Sequence,allowIn:!0,allowCall:!0})],"{"===(l=L(i).toString()).charAt(0)||"function"===l.slice(0,8)&&0<="* (".indexOf(l.charAt(8))||y&&c&&r.expression.type===S.Literal&&"string"==typeof r.expression.value?i=["(",i,")"+p]:i.push(p);break;case S.ImportDeclaration:0===r.specifiers.length?i=["import",q,H(r.source)]:("default"===r.kind?i=["import",B(),r.specifiers[0].id.name,B()]:(i=["import",q,"{"],1===r.specifiers.length?(a=r.specifiers[0],i.push(q+a.id.name),a.name&&i.push(B()+"as"+B()+a.name.name),i.push(q+"}"+q)):(P(function(e){var t,n;for(i.push(A),t=0,n=r.specifiers.length;t<n;++t)a=r.specifiers[t],i.push(e+a.id.name),a.name&&i.push(B()+"as"+B()+a.name.name),t+1<n&&i.push(","+A)}),O(L(i).toString())||i.push(A),i.push(C+"}"+q))),i.push("from"+q),i.push(H(r.source))),i.push(p);break;case S.VariableDeclarator:i=r.init?[Y(r.id,{precedence:_.Assignment,allowIn:s,allowCall:!0}),q,"=",q,Y(r.init,{precedence:_.Assignment,allowIn:s,allowCall:!0})]:G(r.id,{precedence:_.Assignment,allowIn:s});break;case S.VariableDeclaration:i=[r.kind],1===r.declarations.length&&r.declarations[0].init&&r.declarations[0].init.type===S.FunctionExpression?(i.push(B()),i.push(J(r.declarations[0],{allowIn:s}))):P(function(){for(o=r.declarations[0],I.comment&&o.leadingComments?(i.push("\n"),i.push(D(J(o,{allowIn:s})))):(i.push(B()),i.push(J(o,{allowIn:s}))),t=1,n=r.declarations.length;t<n;++t)o=r.declarations[t],I.comment&&o.leadingComments?(i.push(","+A),i.push(D(J(o,{allowIn:s})))):(i.push(","+q),i.push(J(o,{allowIn:s})))}),i.push(p);break;case S.ThrowStatement:i=[T("throw",Y(r.argument,{precedence:_.Sequence,allowIn:!0,allowCall:!0})),p];break;case S.TryStatement:if(i=["try",z(r.block)],i=W(r.block,i),r.handlers)for(t=0,n=r.handlers.length;t<n;++t)i=T(i,J(r.handlers[t])),!r.finalizer&&t+1===n||(i=W(r.handlers[t].body,i));else{for(r.guardedHandlers=r.guardedHandlers||[],t=0,n=r.guardedHandlers.length;t<n;++t)i=T(i,J(r.guardedHandlers[t])),!r.finalizer&&t+1===n||(i=W(r.guardedHandlers[t].body,i));if(r.handler)if(d(r.handler))for(t=0,n=r.handler.length;t<n;++t)i=T(i,J(r.handler[t])),!r.finalizer&&t+1===n||(i=W(r.handler[t].body,i));else i=T(i,J(r.handler)),r.finalizer&&(i=W(r.handler.body,i))}r.finalizer&&(i=T(i,["finally",z(r.finalizer)]));break;case S.SwitchStatement:if(P(function(){i=["switch"+q+"(",Y(r.discriminant,{precedence:_.Sequence,allowIn:!0,allowCall:!0}),")"+q+"{"+A]}),r.cases)for(t=0,n=r.cases.length;t<n;++t)l=D(J(r.cases[t],{semicolonOptional:t===n-1})),i.push(l),O(L(l).toString())||i.push(A);i.push(D("}"));break;case S.SwitchCase:P(function(){for(i=r.test?[T("case",Y(r.test,{precedence:_.Sequence,allowIn:!0,allowCall:!0})),":"]:["default:"],t=0,(n=r.consequent.length)&&r.consequent[0].type===S.BlockStatement&&(l=z(r.consequent[0]),i.push(l),t=1),t===n||O(L(i).toString())||i.push(A);t<n;++t)l=D(J(r.consequent[t],{semicolonOptional:t===n-1&&""===p})),i.push(l),t+1===n||O(L(l).toString())||i.push(A)});break;case S.IfStatement:P(function(){i=["if"+q+"(",Y(r.test,{precedence:_.Sequence,allowIn:!0,allowCall:!0}),")"]}),r.alternate?(i.push(z(r.consequent)),i=W(r.consequent,i),i=r.alternate.type===S.IfStatement?T(i,["else ",J(r.alternate,{semicolonOptional:""===p})]):T(i,T("else",z(r.alternate,""===p)))):i.push(z(r.consequent,""===p));break;case S.ForStatement:P(function(){i=["for"+q+"("],r.init?r.init.type===S.VariableDeclaration?i.push(J(r.init,{allowIn:!1})):(i.push(Y(r.init,{precedence:_.Sequence,allowIn:!1,allowCall:!0})),i.push(";")):i.push(";"),r.test&&(i.push(q),i.push(Y(r.test,{precedence:_.Sequence,allowIn:!0,allowCall:!0}))),i.push(";"),r.update&&(i.push(q),i.push(Y(r.update,{precedence:_.Sequence,allowIn:!0,allowCall:!0}))),i.push(")")}),i.push(z(r.body,""===p));break;case S.ForInStatement:i=K("in",r,""===p);break;case S.ForOfStatement:i=K("of",r,""===p);break;case S.LabeledStatement:i=[r.label.name+":",z(r.body,""===p)];break;case S.Program:for(n=r.body.length,i=[g&&0<n?"\n":""],t=0;t<n;++t)l=D(J(r.body[t],{semicolonOptional:!g&&t===n-1,directiveContext:!0})),i.push(l),t+1<n&&!O(L(l).toString())&&i.push(A);break;case S.FunctionDeclaration:f=r.generator&&!I.moz.starlessGenerator,i=[f?"function*":"function",f?q:B(),$(r.id),Q(r)];break;case S.ReturnStatement:i=r.argument?[T("return",Y(r.argument,{precedence:_.Sequence,allowIn:!0,allowCall:!0})),p]:["return"+p];break;case S.WhileStatement:P(function(){i=["while"+q+"(",Y(r.test,{precedence:_.Sequence,allowIn:!0,allowCall:!0}),")"]}),i.push(z(r.body,""===p));break;case S.WithStatement:P(function(){i=["with"+q+"(",Y(r.object,{precedence:_.Sequence,allowIn:!0,allowCall:!0}),")"]}),i.push(z(r.body,""===p));break;default:throw new Error("Unknown statement type: "+r.type)}return I.comment&&(i=N(r,i)),l=L(i).toString(),r.type!==S.Program||g||""!==A||"\n"!==l.charAt(l.length-1)||(i=v?L(i).replaceRight(/\s+$/,""):l.replace(/\s+$/,"")),L(i,r)}e=Z("estraverse"),x=Z("esutils"),S={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ComprehensionBlock:"ComprehensionBlock",ComprehensionExpression:"ComprehensionExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DirectiveStatement:"DirectiveStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExportDeclaration:"ExportDeclaration",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",ForOfStatement:"ForOfStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",GeneratorExpression:"GeneratorExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportDeclaration:"ImportDeclaration",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"},E={"||":(_={Sequence:0,Yield:1,Assignment:1,Conditional:2,ArrowFunction:2,LogicalOR:3,LogicalAND:4,BitwiseOR:5,BitwiseXOR:6,BitwiseAND:7,Equality:8,Relational:9,BitwiseSHIFT:10,Additive:11,Multiplicative:12,Unary:13,Postfix:14,Call:15,New:16,Member:17,Primary:18}).LogicalOR,"&&":_.LogicalAND,"|":_.BitwiseOR,"^":_.BitwiseXOR,"&":_.BitwiseAND,"==":_.Equality,"!=":_.Equality,"===":_.Equality,"!==":_.Equality,is:_.Equality,isnt:_.Equality,"<":_.Relational,">":_.Relational,"<=":_.Relational,">=":_.Relational,in:_.Relational,instanceof:_.Relational,"<<":_.BitwiseSHIFT,">>":_.BitwiseSHIFT,">>>":_.BitwiseSHIFT,"+":_.Additive,"-":_.Additive,"*":_.Multiplicative,"%":_.Multiplicative,"/":_.Multiplicative},d=(d=Array.isArray)||function(e){return"[object Array]"===Object.prototype.toString.call(e)},t={indent:{style:"",base:0},renumber:!0,hexadecimal:!0,quotes:"auto",escapeless:!0,compact:!0,parentheses:!1,semicolons:!1},n=f().format,ee.version=Z("./package.json").version,ee.generate=function(e,t){var n,r,i=f();switch(C=null!=t?("string"==typeof t.indent&&(i.format.indent.style=t.indent),"number"==typeof t.base&&(i.format.indent.base=t.base),t=b(i,t),c=t.format.indent.style,"string"==typeof t.base?t.base:w(c,t.format.indent.base)):w(c=(t=i).format.indent.style,t.format.indent.base),l=t.format.json,a=t.format.renumber,s=!l&&t.format.hexadecimal,h=l?"double":t.format.quotes,p=t.format.escapeless,A=t.format.newline,q=t.format.space,t.format.compact&&(A=q=c=C=""),k=t.format.parentheses,m=t.format.semicolons,g=t.format.safeConcatenation,y=t.directive,u=l?null:t.parse,v=t.sourceMap,I=t,v&&(o=ee.browser?X.sourceMap.SourceNode:Z("source-map").SourceNode),e.type){case S.BlockStatement:case S.BreakStatement:case S.CatchClause:case S.ContinueStatement:case S.DirectiveStatement:case S.DoWhileStatement:case S.DebuggerStatement:case S.EmptyStatement:case S.ExpressionStatement:case S.ForStatement:case S.ForInStatement:case S.ForOfStatement:case S.FunctionDeclaration:case S.IfStatement:case S.LabeledStatement:case S.Program:case S.ReturnStatement:case S.SwitchStatement:case S.SwitchCase:case S.ThrowStatement:case S.TryStatement:case S.VariableDeclaration:case S.VariableDeclarator:case S.WhileStatement:case S.WithStatement:n=J(e);break;case S.AssignmentExpression:case S.ArrayExpression:case S.ArrayPattern:case S.BinaryExpression:case S.CallExpression:case S.ConditionalExpression:case S.FunctionExpression:case S.Identifier:case S.Literal:case S.LogicalExpression:case S.MemberExpression:case S.NewExpression:case S.ObjectExpression:case S.ObjectPattern:case S.Property:case S.SequenceExpression:case S.ThisExpression:case S.UnaryExpression:case S.UpdateExpression:case S.YieldExpression:n=Y(e,{precedence:_.Sequence,allowIn:!0,allowCall:!0});break;default:throw new Error("Unknown node type: "+e.type)}return v?(r=n.toStringWithSourceMap({file:t.file,sourceRoot:t.sourceMapRoot}),t.sourceContent&&r.map.setSourceContent(t.sourceMap,t.sourceContent),t.sourceMapWithCode?r:r.map.toString()):(r={code:n.toString(),map:null},t.sourceMapWithCode?r:r.code)},ee.attachComments=e.attachComments,ee.Precedence=b({},_),ee.browser=!1,ee.FORMAT_MINIFY=t,ee.FORMAT_DEFAULTS=n}()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./package.json":10,estraverse:11,esutils:14,"source-map":18}],10:[function(e,t,n){t.exports={_from:"git://github.com/Constellation/escodegen.git#41fbbe5058849b5e082542c5cfce76c2d67792e6",_id:"escodegen@1.3.4-dev",_inBundle:!1,_integrity:"",_location:"/escodegen",_phantomChildren:{},_requested:{type:"git",raw:"escodegen@git://github.com/Constellation/escodegen.git#41fbbe5058849b5e082542c5cfce76c2d67792e6",name:"escodegen",escapedName:"escodegen",rawSpec:"git://github.com/Constellation/escodegen.git#41fbbe5058849b5e082542c5cfce76c2d67792e6",saveSpec:"git://github.com/Constellation/escodegen.git#41fbbe5058849b5e082542c5cfce76c2d67792e6",fetchSpec:"git://github.com/Constellation/escodegen.git",gitCommittish:"41fbbe5058849b5e082542c5cfce76c2d67792e6"},_requiredBy:["/","/wisp"],_resolved:"git://github.com/Constellation/escodegen.git#41fbbe5058849b5e082542c5cfce76c2d67792e6",_spec:"escodegen@git://github.com/Constellation/escodegen.git#41fbbe5058849b5e082542c5cfce76c2d67792e6",_where:"/home/chrism/dev/wisp",bin:{esgenerate:"./bin/esgenerate.js",escodegen:"./bin/escodegen.js"},bugs:{url:"https://github.com/Constellation/escodegen/issues"},bundleDependencies:!1,dependencies:{esprima:"~1.1.1",estraverse:"~1.5.0",esutils:"~1.0.0","source-map":"~0.1.33"},deprecated:!1,description:"ECMAScript code generator",devDependencies:{bluebird:"~1.2.0","bower-registry-client":"~0.2.0",chai:"~1.7.2","commonjs-everywhere":"~0.9.6","esprima-moz":"*",gulp:"~3.5.0","gulp-eslint":"~0.1.2","gulp-jshint":"~1.4.0","gulp-mocha":"~0.4.1","jshint-stylish":"~0.1.5",semver:"*"},engines:{node:">=0.10.0"},homepage:"http://github.com/Constellation/escodegen",licenses:[{type:"BSD",url:"http://github.com/Constellation/escodegen/raw/master/LICENSE.BSD"}],main:"escodegen.js",maintainers:[{name:"Yusuke Suzuki",email:"utatane.tea@gmail.com",url:"http://github.com/Constellation"}],name:"escodegen",optionalDependencies:{"source-map":"~0.1.33"},repository:{type:"git",url:"git+ssh://git@github.com/Constellation/escodegen.git"},scripts:{build:"cjsify -a path: tools/entry-point.js > escodegen.browser.js","build-min":"cjsify -ma path: tools/entry-point.js > escodegen.browser.min.js",lint:"gulp lint",release:"node tools/release.js",test:"gulp travis","unit-test":"gulp test"},version:"1.3.4-dev"}},{}],11:[function(e,t,n){!function(e,t){"use strict";"function"==typeof define&&define.amd?define(["exports"],t):t(void 0!==n?n:e.estraverse={})}(this,function(e){"use strict";var m,g,u,y,v,w;function c(e){var t,n,r={};for(t in e)e.hasOwnProperty(t)&&(n=e[t],r[t]="object"==typeof n&&null!==n?c(n):n);return r}function b(e,t){this.parent=e,this.key=t}function S(e,t,n,r){this.node=e,this.path=t,this.wrap=n,this.ref=r}function n(){}function l(e,t){return(new n).traverse(e,t)}function p(t,e){var n;return n=function(e,t){var n,r,i,o;for(r=e.length,i=0;r;)t(e[o=i+(n=r>>>1)])?r=n:(i=o+1,r-=1+n);return i}(e,function(e){return e.range[0]>t.range[0]}),t.extendedRange=[t.range[0],t.range[1]],n!==e.length&&(t.extendedRange[1]=e[n].range[0]),0<=--n&&(t.extendedRange[0]=e[n].range[1]),t}m={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DebuggerStatement:"DebuggerStatement",DirectiveStatement:"DirectiveStatement",DoWhileStatement:"DoWhileStatement",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MethodDefinition:"MethodDefinition",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"},g=(g=Array.isArray)||function(e){return"[object Array]"===Object.prototype.toString.call(e)},y={AssignmentExpression:["left","right"],ArrayExpression:["elements"],ArrayPattern:["elements"],ArrowFunctionExpression:["params","defaults","rest","body"],BlockStatement:["body"],BinaryExpression:["left","right"],BreakStatement:["label"],CallExpression:["callee","arguments"],CatchClause:["param","body"],ClassBody:["body"],ClassDeclaration:["id","body","superClass"],ClassExpression:["id","body","superClass"],ConditionalExpression:["test","consequent","alternate"],ContinueStatement:["label"],DebuggerStatement:[],DirectiveStatement:[],DoWhileStatement:["body","test"],EmptyStatement:[],ExpressionStatement:["expression"],ForStatement:["init","test","update","body"],ForInStatement:["left","right","body"],ForOfStatement:["left","right","body"],FunctionDeclaration:["id","params","defaults","rest","body"],FunctionExpression:["id","params","defaults","rest","body"],Identifier:[],IfStatement:["test","consequent","alternate"],Literal:[],LabeledStatement:["label","body"],LogicalExpression:["left","right"],MemberExpression:["object","property"],MethodDefinition:["key","value"],NewExpression:["callee","arguments"],ObjectExpression:["properties"],ObjectPattern:["properties"],Program:["body"],Property:["key","value"],ReturnStatement:["argument"],SequenceExpression:["expressions"],SwitchStatement:["discriminant","cases"],SwitchCase:["test","consequent"],ThisExpression:[],ThrowStatement:["argument"],TryStatement:["block","handlers","handler","guardedHandlers","finalizer"],UnaryExpression:["argument"],UpdateExpression:["argument"],VariableDeclaration:["declarations"],VariableDeclarator:["id","init"],WhileStatement:["test","body"],WithStatement:["object","body"],YieldExpression:["argument"]},u={Break:v={},Skip:w={}},b.prototype.replace=function(e){this.parent[this.key]=e},n.prototype.path=function(){var e,t,n,r,i;function o(e,t){if(g(t))for(n=0,r=t.length;n<r;++n)e.push(t[n]);else e.push(t)}if(!this.__current.path)return null;for(i=[],e=2,t=this.__leavelist.length;e<t;++e)o(i,this.__leavelist[e].path);return o(i,this.__current.path),i},n.prototype.parents=function(){var e,t,n;for(n=[],e=1,t=this.__leavelist.length;e<t;++e)n.push(this.__leavelist[e].node);return n},n.prototype.current=function(){return this.__current.node},n.prototype.__execute=function(e,t){var n,r;return r=void 0,n=this.__current,this.__current=t,this.__state=null,e&&(r=e.call(this,t.node,this.__leavelist[this.__leavelist.length-1].node)),this.__current=n,r},n.prototype.notify=function(e){this.__state=e},n.prototype.skip=function(){this.notify(w)},n.prototype.break=function(){this.notify(v)},n.prototype.__initialize=function(e,t){this.visitor=t,this.root=e,this.__worklist=[],this.__leavelist=[],this.__current=null,this.__state=null},n.prototype.traverse=function(e,t){var n,r,i,o,a,s,u,c,l,p,f,d;for(this.__initialize(e,t),d={},n=this.__worklist,r=this.__leavelist,n.push(new S(e,null,null,null)),r.push(new S(null,null,null,null));n.length;)if((i=n.pop())!==d){if(i.node){if(s=this.__execute(t.enter,i),this.__state===v||s===v)return;if(n.push(d),r.push(i),this.__state===w||s===w)continue;for(o=i.node,a=i.wrap||o.type,c=(p=y[a]).length;0<=--c;)if(f=o[u=p[c]])if(g(f))for(l=f.length;0<=--l;)f[l]&&(i=a!==m.ObjectExpression&&a!==m.ObjectPattern||"properties"!==p[c]?new S(f[l],[u,l],null,null):new S(f[l],[u,l],"Property",null),n.push(i));else n.push(new S(f,u,null,null))}}else if(i=r.pop(),s=this.__execute(t.leave,i),this.__state===v||s===v)return},n.prototype.replace=function(e,t){var n,r,i,o,a,s,u,c,l,p,f,d,h;for(this.__initialize(e,t),f={},n=this.__worklist,r=this.__leavelist,s=new S(e,null,null,new b(d={root:e},"root")),n.push(s),r.push(s);n.length;)if((s=n.pop())!==f){if(void 0!==(a=this.__execute(t.enter,s))&&a!==v&&a!==w&&(s.ref.replace(a),s.node=a),this.__state===v||a===v)return d.root;if((i=s.node)&&(n.push(f),r.push(s),this.__state!==w&&a!==w))for(o=s.wrap||i.type,u=(l=y[o]).length;0<=--u;)if(p=i[h=l[u]])if(g(p))for(c=p.length;0<=--c;)p[c]&&(s=o===m.ObjectExpression&&"properties"===l[u]?new S(p[c],[h,c],"Property",new b(p,c)):new S(p[c],[h,c],null,new b(p,c)),n.push(s));else n.push(new S(p,h,null,new b(i,h)))}else if(s=r.pop(),void 0!==(a=this.__execute(t.leave,s))&&a!==v&&a!==w&&s.ref.replace(a),this.__state===v||a===v)return d.root;return d.root},e.version="1.5.1-dev",e.Syntax=m,e.traverse=l,e.replace=function(e,t){return(new n).replace(e,t)},e.attachComments=function(e,t,n){var r,i,o,a,s=[];if(!e.range)throw new Error("attachComments needs range information");if(!n.length){if(t.length){for(o=0,i=t.length;o<i;o+=1)(r=c(t[o])).extendedRange=[0,e.range[0]],s.push(r);e.leadingComments=s}return e}for(o=0,i=t.length;o<i;o+=1)s.push(p(c(t[o]),n));return a=0,l(e,{enter:function(e){for(var t;a<s.length&&!((t=s[a]).extendedRange[1]>e.range[0]);)t.extendedRange[1]===e.range[0]?(e.leadingComments||(e.leadingComments=[]),e.leadingComments.push(t),s.splice(a,1)):a+=1;return a===s.length?u.Break:s[a].extendedRange[0]>e.range[1]?u.Skip:void 0}}),a=0,l(e,{leave:function(e){for(var t;a<s.length&&(t=s[a],!(e.range[1]<t.extendedRange[0]));)e.range[1]===t.extendedRange[0]?(e.trailingComments||(e.trailingComments=[]),e.trailingComments.push(t),s.splice(a,1)):a+=1;return a===s.length?u.Break:s[a].extendedRange[0]>e.range[1]?u.Skip:void 0}}),e},e.VisitorKeys=y,e.VisitorOption=u,e.Controller=n})},{}],12:[function(e,r,t){!function(){"use strict";var t;function n(e){return 48<=e&&e<=57}t={NonAsciiIdentifierStart:new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]"),NonAsciiIdentifierPart:new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮ̀-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁ҃-҇Ҋ-ԧԱ-Ֆՙա-և֑-ׇֽֿׁׂׅׄא-תװ-ײؐ-ؚؠ-٩ٮ-ۓە-ۜ۟-۪ۨ-ۼۿܐ-݊ݍ-ޱ߀-ߵߺࠀ-࠭ࡀ-࡛ࢠࢢ-ࢬࣤ-ࣾऀ-ॣ०-९ॱ-ॷॹ-ॿঁ-ঃঅ-ঌএঐও-নপ-রলশ-হ়-ৄেৈো-ৎৗড়ঢ়য়-ৣ০-ৱਁ-ਃਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹ਼ਾ-ੂੇੈੋ-੍ੑਖ਼-ੜਫ਼੦-ੵઁ-ઃઅ-ઍએ-ઑઓ-નપ-રલળવ-હ઼-ૅે-ૉો-્ૐૠ-ૣ૦-૯ଁ-ଃଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହ଼-ୄେୈୋ-୍ୖୗଡ଼ଢ଼ୟ-ୣ୦-୯ୱஂஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹா-ூெ-ைொ-்ௐௗ௦-௯ఁ-ఃఅ-ఌఎ-ఐఒ-నప-ళవ-హఽ-ౄె-ైొ-్ౕౖౘౙౠ-ౣ౦-౯ಂಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹ಼-ೄೆ-ೈೊ-್ೕೖೞೠ-ೣ೦-೯ೱೲംഃഅ-ഌഎ-ഐഒ-ഺഽ-ൄെ-ൈൊ-ൎൗൠ-ൣ൦-൯ൺ-ൿංඃඅ-ඖක-නඳ-රලව-ෆ්ා-ුූෘ-ෟෲෳก-ฺเ-๎๐-๙ກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ູົ-ຽເ-ໄໆ່-ໍ໐-໙ໜ-ໟༀ༘༙༠-༩༹༵༷༾-ཇཉ-ཬཱ-྄྆-ྗྙ-ྼ࿆က-၉ၐ-ႝႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፝-፟ᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-᜔ᜠ-᜴ᝀ-ᝓᝠ-ᝬᝮ-ᝰᝲᝳក-៓ៗៜ៝០-៩᠋-᠍᠐-᠙ᠠ-ᡷᢀ-ᢪᢰ-ᣵᤀ-ᤜᤠ-ᤫᤰ-᤻᥆-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉ᧐-᧙ᨀ-ᨛᨠ-ᩞ᩠-᩿᩼-᪉᪐-᪙ᪧᬀ-ᭋ᭐-᭙᭫-᭳ᮀ-᯳ᰀ-᰷᱀-᱉ᱍ-ᱽ᳐-᳔᳒-ᳶᴀ-ᷦ᷼-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼ‌‍‿⁀⁔ⁱⁿₐ-ₜ⃐-⃥⃜⃡-⃰ℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯ⵿-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⷠ-ⷿⸯ々-〇〡-〯〱-〵〸-〼ぁ-ゖ゙゚ゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘫꙀ-꙯ꙴ-꙽ꙿ-ꚗꚟ-꛱ꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠧꡀ-ꡳꢀ-꣄꣐-꣙꣠-ꣷꣻ꤀-꤭ꤰ-꥓ꥠ-ꥼꦀ-꧀ꧏ-꧙ꨀ-ꨶꩀ-ꩍ꩐-꩙ꩠ-ꩶꩺꩻꪀ-ꫂꫛ-ꫝꫠ-ꫯꫲ-꫶ꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯪ꯬꯭꯰-꯹가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻ︀-️︠-︦︳︴﹍-﹏ﹰ-ﹴﹶ-ﻼ０-９Ａ-Ｚ＿ａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]")},r.exports={isDecimalDigit:n,isHexDigit:function(e){return n(e)||97<=e&&e<=102||65<=e&&e<=70},isOctalDigit:function(e){return 48<=e&&e<=55},isWhiteSpace:function(e){return 32===e||9===e||11===e||12===e||160===e||5760<=e&&0<=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)},isLineTerminator:function(e){return 10===e||13===e||8232===e||8233===e},isIdentifierStart:function(e){return 36===e||95===e||65<=e&&e<=90||97<=e&&e<=122||92===e||128<=e&&t.NonAsciiIdentifierStart.test(String.fromCharCode(e))},isIdentifierPart:function(e){return 36===e||95===e||65<=e&&e<=90||97<=e&&e<=122||48<=e&&e<=57||92===e||128<=e&&t.NonAsciiIdentifierPart.test(String.fromCharCode(e))}}}()},{}],13:[function(e,t,n){!function(){"use strict";var i=e("./code");function n(e,t){if(t&&function(e){switch(e){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"let":return!0;default:return!1}}(e))return!0;switch(e.length){case 2:return"if"===e||"in"===e||"do"===e;case 3:return"var"===e||"for"===e||"new"===e||"try"===e;case 4:return"this"===e||"else"===e||"case"===e||"void"===e||"with"===e||"enum"===e;case 5:return"while"===e||"break"===e||"catch"===e||"throw"===e||"const"===e||"yield"===e||"class"===e||"super"===e;case 6:return"return"===e||"typeof"===e||"delete"===e||"switch"===e||"export"===e||"import"===e;case 7:return"default"===e||"finally"===e||"extends"===e;case 8:return"function"===e||"continue"===e||"debugger"===e;case 10:return"instanceof"===e;default:return!1}}t.exports={isKeywordES5:function(e,t){return!(!t&&"yield"===e)&&n(e,t)},isKeywordES6:n,isRestrictedWord:function(e){return"eval"===e||"arguments"===e},isIdentifierName:function(e){var t,n,r;if(0===e.length)return!1;if(r=e.charCodeAt(0),!i.isIdentifierStart(r)||92===r)return!1;for(t=1,n=e.length;t<n;++t)if(r=e.charCodeAt(t),!i.isIdentifierPart(r)||92===r)return!1;return!0}}}()},{"./code":12}],14:[function(e,t,n){!function(){"use strict";n.code=e("./code"),n.keyword=e("./keyword")}()},{"./code":12,"./keyword":13}],15:[function(e,t,n){n.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,c=u>>1,l=-7,p=n?i-1:0,f=n?-1:1,d=e[t+p];for(p+=f,o=d&(1<<-l)-1,d>>=-l,l+=s;0<l;o=256*o+e[t+p],p+=f,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;0<l;a=256*a+e[t+p],p+=f,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),o-=c}return(d?-1:1)*a*Math.pow(2,o-r)},n.write=function(e,t,n,r,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,p=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,h=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),2<=(t+=1<=a+p?f/u:f*Math.pow(2,1-p))*u&&(a++,u/=2),l<=a+p?(s=0,a=l):1<=a+p?(s=(t*u-1)*Math.pow(2,i),a+=p):(s=t*Math.pow(2,p-1)*Math.pow(2,i),a=0));8<=i;e[n+d]=255&s,d+=h,s/=256,i-=8);for(a=a<<i|s,c+=i;0<c;e[n+d]=255&a,d+=h,a/=256,c-=8);e[n+d-h]|=128*m}},{}],16:[function(e,t,c){(function(i){function o(e,t){for(var n=0,r=e.length-1;0<=r;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;)e.unshift("..");return e}function a(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}c.resolve=function(){for(var e="",t=!1,n=arguments.length-1;-1<=n&&!t;n--){var r=0<=n?arguments[n]:i.cwd();if("string"!=typeof r)throw new TypeError("Arguments to path.resolve must be strings");r&&(e=r+"/"+e,t="/"===r.charAt(0))}return(t?"/":"")+(e=o(a(e.split("/"),function(e){return!!e}),!t).join("/"))||"."},c.normalize=function(e){var t=c.isAbsolute(e),n="/"===r(e,-1);return(e=o(a(e.split("/"),function(e){return!!e}),!t).join("/"))||t||(e="."),e&&n&&(e+="/"),(t?"/":"")+e},c.isAbsolute=function(e){return"/"===e.charAt(0)},c.join=function(){var e=Array.prototype.slice.call(arguments,0);return c.normalize(a(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},c.relative=function(e,t){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;0<=n&&""===e[n];n--);return n<t?[]:e.slice(t,n-t+1)}e=c.resolve(e).substr(1),t=c.resolve(t).substr(1);for(var r=n(e.split("/")),i=n(t.split("/")),o=Math.min(r.length,i.length),a=o,s=0;s<o;s++)if(r[s]!==i[s]){a=s;break}var u=[];for(s=a;s<r.length;s++)u.push("..");return(u=u.concat(i.slice(a))).join("/")},c.sep="/",c.delimiter=":",c.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,i=!0,o=e.length-1;1<=o;--o)if(47===(t=e.charCodeAt(o))){if(!i){r=o;break}}else i=!1;return-1===r?n?"/":".":n&&1===r?"/":e.slice(0,r)},c.basename=function(e,t){var n=function(e){"string"!=typeof e&&(e+="");var t,n=0,r=-1,i=!0;for(t=e.length-1;0<=t;--t)if(47===e.charCodeAt(t)){if(!i){n=t+1;break}}else-1===r&&(i=!1,r=t+1);return-1===r?"":e.slice(n,r)}(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},c.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,n=0,r=-1,i=!0,o=0,a=e.length-1;0<=a;--a){var s=e.charCodeAt(a);if(47===s){if(i)continue;n=a+1;break}-1===r&&(i=!1,r=a+1),46===s?-1===t?t=a:1!==o&&(o=1):-1!==t&&(o=-1)}return-1===t||-1===r||0===o||1===o&&t===r-1&&t===n+1?"":e.slice(t,r)};var r="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,e("_process"))},{_process:17}],17:[function(e,t,n){var r,i,o=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function u(t){if(r===setTimeout)return setTimeout(t,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(e){r=a}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(e){i=s}}();var c,l=[],p=!1,f=-1;function d(){p&&c&&(p=!1,c.length?l=c.concat(l):f=-1,l.length&&h())}function h(){if(!p){var e=u(d);p=!0;for(var t=l.length;t;){for(c=l,l=[];++f<t;)c&&c[f].run();f=-1,t=l.length}c=null,p=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function g(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new m(e,t)),1!==l.length||p||u(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],18:[function(e,t,n){n.SourceMapGenerator=e("./source-map/source-map-generator").SourceMapGenerator,n.SourceMapConsumer=e("./source-map/source-map-consumer").SourceMapConsumer,n.SourceNode=e("./source-map/source-node").SourceNode},{"./source-map/source-map-consumer":24,"./source-map/source-map-generator":25,"./source-map/source-node":26}],19:[function(e,t,n){if("function"!=typeof r)var r=e("amdefine")(t,e);r(function(e,t,n){var i=e("./util");function o(){this._array=[],this._set={}}o.fromArray=function(e,t){for(var n=new o,r=0,i=e.length;r<i;r++)n.add(e[r],t);return n},o.prototype.add=function(e,t){var n=this.has(e),r=this._array.length;n&&!t||this._array.push(e),n||(this._set[i.toSetString(e)]=r)},o.prototype.has=function(e){return Object.prototype.hasOwnProperty.call(this._set,i.toSetString(e))},o.prototype.indexOf=function(e){if(this.has(e))return this._set[i.toSetString(e)];throw new Error('"'+e+'" is not in the set.')},o.prototype.at=function(e){if(0<=e&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)},o.prototype.toArray=function(){return this._array.slice()},t.ArraySet=o})},{"./util":27,amdefine:4}],20:[function(e,t,n){if("function"!=typeof r)var r=e("amdefine")(t,e);r(function(e,t,n){var l=e("./base64");t.encode=function(e){for(var t,n,r="",i=(n=e)<0?1+(-n<<1):0+(n<<1);t=31&i,0<(i>>>=5)&&(t|=32),r+=l.encode(t),0<i;);return r},t.decode=function(e,t){var n,r,i,o,a=0,s=e.length,u=0,c=0;do{if(s<=a)throw new Error("Expected more digits in base 64 VLQ value.");n=!!(32&(r=l.decode(e.charAt(a++)))),u+=(r&=31)<<c,c+=5}while(n);t.value=(o=(i=u)>>1,1==(1&i)?-o:o),t.rest=e.slice(a)}})},{"./base64":21,amdefine:4}],21:[function(e,t,n){if("function"!=typeof r)var r=e("amdefine")(t,e);r(function(e,t,n){var r={},i={};"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("").forEach(function(e,t){r[e]=t,i[t]=e}),t.encode=function(e){if(e in i)return i[e];throw new TypeError("Must be between 0 and 63: "+e)},t.decode=function(e){if(e in r)return r[e];throw new TypeError("Not a valid base 64 digit: "+e)}})},{amdefine:4}],22:[function(e,t,n){if("function"!=typeof r)var r=e("amdefine")(t,e);r(function(e,t,n){t.search=function(e,t,n){return 0===t.length?-1:function e(t,n,r,i,o){var a=Math.floor((n-t)/2)+t,s=o(r,i[a],!0);return 0===s?a:0<s?1<n-a?e(a,n,r,i,o):a:1<a-t?e(t,a,r,i,o):t<0?-1:t}(-1,t.length,e,t,n)}})},{amdefine:4}],23:[function(e,t,n){if("function"!=typeof r)var r=e("amdefine")(t,e);r(function(e,t,n){var s=e("./util");function r(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}r.prototype.unsortedForEach=function(e,t){this._array.forEach(e,t)},r.prototype.add=function(e){var t,n,r,i,o,a;t=this._last,n=e,r=t.generatedLine,i=n.generatedLine,o=t.generatedColumn,a=n.generatedColumn,r<i||i==r&&o<=a||s.compareByGeneratedPositions(t,n)<=0?this._last=e:this._sorted=!1,this._array.push(e)},r.prototype.toArray=function(){return this._sorted||(this._array.sort(s.compareByGeneratedPositions),this._sorted=!0),this._array},t.MappingList=r})},{"./util":27,amdefine:4}],24:[function(e,t,n){if("function"!=typeof r)var r=e("amdefine")(t,e);r(function(e,t,n){var l=e("./util"),o=e("./binary-search"),c=e("./array-set").ArraySet,p=e("./base64-vlq");function a(e){var t=e;"string"==typeof e&&(t=JSON.parse(e.replace(/^\)\]\}'/,"")));var n=l.getArg(t,"version"),r=l.getArg(t,"sources"),i=l.getArg(t,"names",[]),o=l.getArg(t,"sourceRoot",null),a=l.getArg(t,"sourcesContent",null),s=l.getArg(t,"mappings"),u=l.getArg(t,"file",null);if(n!=this._version)throw new Error("Unsupported version: "+n);r=r.map(l.normalize),this._names=c.fromArray(i,!0),this._sources=c.fromArray(r,!0),this.sourceRoot=o,this.sourcesContent=a,this._mappings=s,this.file=u}a.fromSourceMap=function(e){var t=Object.create(a.prototype);return t._names=c.fromArray(e._names.toArray(),!0),t._sources=c.fromArray(e._sources.toArray(),!0),t.sourceRoot=e._sourceRoot,t.sourcesContent=e._generateSourcesContent(t._sources.toArray(),t.sourceRoot),t.file=e._file,t.__generatedMappings=e._mappings.toArray().slice(),t.__originalMappings=e._mappings.toArray().slice().sort(l.compareByOriginalPositions),t},a.prototype._version=3,Object.defineProperty(a.prototype,"sources",{get:function(){return this._sources.toArray().map(function(e){return null!=this.sourceRoot?l.join(this.sourceRoot,e):e},this)}}),a.prototype.__generatedMappings=null,Object.defineProperty(a.prototype,"_generatedMappings",{get:function(){return this.__generatedMappings||(this.__generatedMappings=[],this.__originalMappings=[],this._parseMappings(this._mappings,this.sourceRoot)),this.__generatedMappings}}),a.prototype.__originalMappings=null,Object.defineProperty(a.prototype,"_originalMappings",{get:function(){return this.__originalMappings||(this.__generatedMappings=[],this.__originalMappings=[],this._parseMappings(this._mappings,this.sourceRoot)),this.__originalMappings}}),a.prototype._nextCharIsMappingSeparator=function(e){var t=e.charAt(0);return";"===t||","===t},a.prototype._parseMappings=function(e){for(var t,n=1,r=0,i=0,o=0,a=0,s=0,u=e,c={};0<u.length;)if(";"===u.charAt(0))n++,u=u.slice(1),r=0;else if(","===u.charAt(0))u=u.slice(1);else{if((t={}).generatedLine=n,p.decode(u,c),t.generatedColumn=r+c.value,r=t.generatedColumn,0<(u=c.rest).length&&!this._nextCharIsMappingSeparator(u)){if(p.decode(u,c),t.source=this._sources.at(a+c.value),a+=c.value,0===(u=c.rest).length||this._nextCharIsMappingSeparator(u))throw new Error("Found a source, but no line and column");if(p.decode(u,c),t.originalLine=i+c.value,i=t.originalLine,t.originalLine+=1,0===(u=c.rest).length||this._nextCharIsMappingSeparator(u))throw new Error("Found a source and line, but no column");p.decode(u,c),t.originalColumn=o+c.value,o=t.originalColumn,0<(u=c.rest).length&&!this._nextCharIsMappingSeparator(u)&&(p.decode(u,c),t.name=this._names.at(s+c.value),s+=c.value,u=c.rest)}this.__generatedMappings.push(t),"number"==typeof t.originalLine&&this.__originalMappings.push(t)}this.__generatedMappings.sort(l.compareByGeneratedPositions),this.__originalMappings.sort(l.compareByOriginalPositions)},a.prototype._findMapping=function(e,t,n,r,i){if(e[n]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[n]);if(e[r]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[r]);return o.search(e,t,i)},a.prototype.computeColumnSpans=function(){for(var e=0;e<this._generatedMappings.length;++e){var t=this._generatedMappings[e];if(e+1<this._generatedMappings.length){var n=this._generatedMappings[e+1];if(t.generatedLine===n.generatedLine){t.lastGeneratedColumn=n.generatedColumn-1;continue}}t.lastGeneratedColumn=1/0}},a.prototype.originalPositionFor=function(e){var t={generatedLine:l.getArg(e,"line"),generatedColumn:l.getArg(e,"column")},n=this._findMapping(t,this._generatedMappings,"generatedLine","generatedColumn",l.compareByGeneratedPositions);if(0<=n){var r=this._generatedMappings[n];if(r.generatedLine===t.generatedLine){var i=l.getArg(r,"source",null);return null!=i&&null!=this.sourceRoot&&(i=l.join(this.sourceRoot,i)),{source:i,line:l.getArg(r,"originalLine",null),column:l.getArg(r,"originalColumn",null),name:l.getArg(r,"name",null)}}}return{source:null,line:null,column:null,name:null}},a.prototype.sourceContentFor=function(e){if(!this.sourcesContent)return null;if(null!=this.sourceRoot&&(e=l.relative(this.sourceRoot,e)),this._sources.has(e))return this.sourcesContent[this._sources.indexOf(e)];var t;if(null!=this.sourceRoot&&(t=l.urlParse(this.sourceRoot))){var n=e.replace(/^file:\/\//,"");if("file"==t.scheme&&this._sources.has(n))return this.sourcesContent[this._sources.indexOf(n)];if((!t.path||"/"==t.path)&&this._sources.has("/"+e))return this.sourcesContent[this._sources.indexOf("/"+e)]}throw new Error('"'+e+'" is not in the SourceMap.')},a.prototype.generatedPositionFor=function(e){var t={source:l.getArg(e,"source"),originalLine:l.getArg(e,"line"),originalColumn:l.getArg(e,"column")};null!=this.sourceRoot&&(t.source=l.relative(this.sourceRoot,t.source));var n=this._findMapping(t,this._originalMappings,"originalLine","originalColumn",l.compareByOriginalPositions);if(0<=n){var r=this._originalMappings[n];return{line:l.getArg(r,"generatedLine",null),column:l.getArg(r,"generatedColumn",null),lastColumn:l.getArg(r,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},a.prototype.allGeneratedPositionsFor=function(e){var t={source:l.getArg(e,"source"),originalLine:l.getArg(e,"line"),originalColumn:1/0};null!=this.sourceRoot&&(t.source=l.relative(this.sourceRoot,t.source));var n=[],r=this._findMapping(t,this._originalMappings,"originalLine","originalColumn",l.compareByOriginalPositions);if(0<=r)for(var i=this._originalMappings[r];i&&i.originalLine===t.originalLine;)n.push({line:l.getArg(i,"generatedLine",null),column:l.getArg(i,"generatedColumn",null),lastColumn:l.getArg(i,"lastGeneratedColumn",null)}),i=this._originalMappings[--r];return n.reverse()},a.GENERATED_ORDER=1,a.ORIGINAL_ORDER=2,a.prototype.eachMapping=function(e,t,n){var r,i=t||null;switch(n||a.GENERATED_ORDER){case a.GENERATED_ORDER:r=this._generatedMappings;break;case a.ORIGINAL_ORDER:r=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var o=this.sourceRoot;r.map(function(e){var t=e.source;return null!=t&&null!=o&&(t=l.join(o,t)),{source:t,generatedLine:e.generatedLine,generatedColumn:e.generatedColumn,originalLine:e.originalLine,originalColumn:e.originalColumn,name:e.name}}).forEach(e,i)},t.SourceMapConsumer=a})},{"./array-set":19,"./base64-vlq":20,"./binary-search":22,"./util":27,amdefine:4}],25:[function(e,t,n){if("function"!=typeof r)var r=e("amdefine")(t,e);r(function(e,t,n){var p=e("./base64-vlq"),f=e("./util"),r=e("./array-set").ArraySet,i=e("./mapping-list").MappingList;function o(e){e=e||{},this._file=f.getArg(e,"file",null),this._sourceRoot=f.getArg(e,"sourceRoot",null),this._skipValidation=f.getArg(e,"skipValidation",!1),this._sources=new r,this._names=new r,this._mappings=new i,this._sourcesContents=null}o.prototype._version=3,o.fromSourceMap=function(n){var r=n.sourceRoot,i=new o({file:n.file,sourceRoot:r});return n.eachMapping(function(e){var t={generated:{line:e.generatedLine,column:e.generatedColumn}};null!=e.source&&(t.source=e.source,null!=r&&(t.source=f.relative(r,t.source)),t.original={line:e.originalLine,column:e.originalColumn},null!=e.name&&(t.name=e.name)),i.addMapping(t)}),n.sources.forEach(function(e){var t=n.sourceContentFor(e);null!=t&&i.setSourceContent(e,t)}),i},o.prototype.addMapping=function(e){var t=f.getArg(e,"generated"),n=f.getArg(e,"original",null),r=f.getArg(e,"source",null),i=f.getArg(e,"name",null);this._skipValidation||this._validateMapping(t,n,r,i),null==r||this._sources.has(r)||this._sources.add(r),null==i||this._names.has(i)||this._names.add(i),this._mappings.add({generatedLine:t.line,generatedColumn:t.column,originalLine:null!=n&&n.line,originalColumn:null!=n&&n.column,source:r,name:i})},o.prototype.setSourceContent=function(e,t){var n=e;null!=this._sourceRoot&&(n=f.relative(this._sourceRoot,n)),null!=t?(this._sourcesContents||(this._sourcesContents={}),this._sourcesContents[f.toSetString(n)]=t):this._sourcesContents&&(delete this._sourcesContents[f.toSetString(n)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},o.prototype.applySourceMap=function(i,e,o){var a=e;if(null==e){if(null==i.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');a=i.file}var s=this._sourceRoot;null!=s&&(a=f.relative(s,a));var u=new r,c=new r;this._mappings.unsortedForEach(function(e){if(e.source===a&&null!=e.originalLine){var t=i.originalPositionFor({line:e.originalLine,column:e.originalColumn});null!=t.source&&(e.source=t.source,null!=o&&(e.source=f.join(o,e.source)),null!=s&&(e.source=f.relative(s,e.source)),e.originalLine=t.line,e.originalColumn=t.column,null!=t.name&&(e.name=t.name))}var n=e.source;null==n||u.has(n)||u.add(n);var r=e.name;null==r||c.has(r)||c.add(r)},this),this._sources=u,this._names=c,i.sources.forEach(function(e){var t=i.sourceContentFor(e);null!=t&&(null!=o&&(e=f.join(o,e)),null!=s&&(e=f.relative(s,e)),this.setSourceContent(e,t))},this)},o.prototype._validateMapping=function(e,t,n,r){if((!(e&&"line"in e&&"column"in e&&0<e.line&&0<=e.column)||t||n||r)&&!(e&&"line"in e&&"column"in e&&t&&"line"in t&&"column"in t&&0<e.line&&0<=e.column&&0<t.line&&0<=t.column&&n))throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:n,original:t,name:r}))},o.prototype._serializeMappings=function(){for(var e,t=0,n=1,r=0,i=0,o=0,a=0,s="",u=this._mappings.toArray(),c=0,l=u.length;c<l;c++){if((e=u[c]).generatedLine!==n)for(t=0;e.generatedLine!==n;)s+=";",n++;else if(0<c){if(!f.compareByGeneratedPositions(e,u[c-1]))continue;s+=","}s+=p.encode(e.generatedColumn-t),t=e.generatedColumn,null!=e.source&&(s+=p.encode(this._sources.indexOf(e.source)-a),a=this._sources.indexOf(e.source),s+=p.encode(e.originalLine-1-i),i=e.originalLine-1,s+=p.encode(e.originalColumn-r),r=e.originalColumn,null!=e.name&&(s+=p.encode(this._names.indexOf(e.name)-o),o=this._names.indexOf(e.name)))}return s},o.prototype._generateSourcesContent=function(e,n){return e.map(function(e){if(!this._sourcesContents)return null;null!=n&&(e=f.relative(n,e));var t=f.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,t)?this._sourcesContents[t]:null},this)},o.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(e.file=this._file),null!=this._sourceRoot&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e},o.prototype.toString=function(){return JSON.stringify(this)},t.SourceMapGenerator=o})},{"./array-set":19,"./base64-vlq":20,"./mapping-list":23,"./util":27,amdefine:4}],26:[function(e,t,n){if("function"!=typeof r)var r=e("amdefine")(t,e);r(function(e,t,n){var r=e("./source-map-generator").SourceMapGenerator,p=e("./util"),f=/(\r?\n)/,o="$$$isSourceNode$$$";function d(e,t,n,r,i){this.children=[],this.sourceContents={},this.line=null==e?null:e,this.column=null==t?null:t,this.source=null==n?null:n,this.name=null==i?null:i,this[o]=!0,null!=r&&this.add(r)}d.fromStringWithSourceMap=function(e,n,r){function i(){return a.shift()+(a.shift()||"")}var o=new d,a=e.split(f),s=1,u=0,c=null;return n.eachMapping(function(e){if(null!==c){if(!(s<e.generatedLine)){t=(n=a[0]).substr(0,e.generatedColumn-u);return a[0]=n.substr(e.generatedColumn-u),u=e.generatedColumn,l(c,t),void(c=e)}var t="";l(c,i()),s++,u=0}for(;s<e.generatedLine;)o.add(i()),s++;if(u<e.generatedColumn){var n=a[0];o.add(n.substr(0,e.generatedColumn)),a[0]=n.substr(e.generatedColumn),u=e.generatedColumn}c=e},this),0<a.length&&(c&&l(c,i()),o.add(a.join(""))),n.sources.forEach(function(e){var t=n.sourceContentFor(e);null!=t&&(null!=r&&(e=p.join(r,e)),o.setSourceContent(e,t))}),o;function l(e,t){if(null===e||void 0===e.source)o.add(t);else{var n=r?p.join(r,e.source):e.source;o.add(new d(e.originalLine,e.originalColumn,n,t,e.name))}}},d.prototype.add=function(e){if(Array.isArray(e))e.forEach(function(e){this.add(e)},this);else{if(!e[o]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);e&&this.children.push(e)}return this},d.prototype.prepend=function(e){if(Array.isArray(e))for(var t=e.length-1;0<=t;t--)this.prepend(e[t]);else{if(!e[o]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);this.children.unshift(e)}return this},d.prototype.walk=function(e){for(var t,n=0,r=this.children.length;n<r;n++)(t=this.children[n])[o]?t.walk(e):""!==t&&e(t,{source:this.source,line:this.line,column:this.column,name:this.name})},d.prototype.join=function(e){var t,n,r=this.children.length;if(0<r){for(t=[],n=0;n<r-1;n++)t.push(this.children[n]),t.push(e);t.push(this.children[n]),this.children=t}return this},d.prototype.replaceRight=function(e,t){var n=this.children[this.children.length-1];return n[o]?n.replaceRight(e,t):"string"==typeof n?this.children[this.children.length-1]=n.replace(e,t):this.children.push("".replace(e,t)),this},d.prototype.setSourceContent=function(e,t){this.sourceContents[p.toSetString(e)]=t},d.prototype.walkSourceContents=function(e){for(var t=0,n=this.children.length;t<n;t++)this.children[t][o]&&this.children[t].walkSourceContents(e);var r=Object.keys(this.sourceContents);for(t=0,n=r.length;t<n;t++)e(p.fromSetString(r[t]),this.sourceContents[r[t]])},d.prototype.toString=function(){var t="";return this.walk(function(e){t+=e}),t},d.prototype.toStringWithSourceMap=function(e){var i={code:"",line:1,column:0},o=new r(e),a=!1,s=null,u=null,c=null,l=null;return this.walk(function(e,t){i.code+=e,null!==t.source&&null!==t.line&&null!==t.column?(s===t.source&&u===t.line&&c===t.column&&l===t.name||o.addMapping({source:t.source,original:{line:t.line,column:t.column},generated:{line:i.line,column:i.column},name:t.name}),s=t.source,u=t.line,c=t.column,l=t.name,a=!0):a&&(o.addMapping({generated:{line:i.line,column:i.column}}),s=null,a=!1);for(var n=0,r=e.length;n<r;n++)10===e.charCodeAt(n)?(i.line++,i.column=0,n+1===r?(s=null,a=!1):a&&o.addMapping({source:t.source,original:{line:t.line,column:t.column},generated:{line:i.line,column:i.column},name:t.name})):i.column++}),this.walkSourceContents(function(e,t){o.setSourceContent(e,t)}),{code:i.code,map:o}},t.SourceNode=d})},{"./source-map-generator":25,"./util":27,amdefine:4}],27:[function(e,t,n){if("function"!=typeof r)var r=e("amdefine")(t,e);r(function(e,t,n){t.getArg=function(e,t,n){if(t in e)return e[t];if(3===arguments.length)return n;throw new Error('"'+t+'" is a required argument.')};var r=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.]*)(?::(\d+))?(\S*)$/,o=/^data:.+\,.+$/;function u(e){var t=e.match(r);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}function c(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}function a(e){var t=e,n=u(e);if(n){if(!n.path)return e;t=n.path}for(var r,i="/"===t.charAt(0),o=t.split(/\/+/),a=0,s=o.length-1;0<=s;s--)"."===(r=o[s])?o.splice(s,1):".."===r?a++:0<a&&(""===r?(o.splice(s+1,a),a=0):(o.splice(s,2),a--));return""===(t=o.join("/"))&&(t=i?"/":"."),n?(n.path=t,c(n)):t}function i(e,t){var n=e||"",r=t||"";return(r<n)-(n<r)}t.urlParse=u,t.urlGenerate=c,t.normalize=a,t.join=function(e,t){""===e&&(e="."),""===t&&(t=".");var n=u(t),r=u(e);if(r&&(e=r.path||"/"),n&&!n.scheme)return r&&(n.scheme=r.scheme),c(n);if(n||t.match(o))return t;if(r&&!r.host&&!r.path)return r.host=t,c(r);var i="/"===t.charAt(0)?t:a(e.replace(/\/+$/,"")+"/"+t);return r?(r.path=i,c(r)):i},t.relative=function(e,t){""===e&&(e=".");var n=u(e=e.replace(/\/$/,""));return"/"==t.charAt(0)&&n&&"/"==n.path?t.slice(1):0===t.indexOf(e+"/")?t.substr(e.length+1):t},t.toSetString=function(e){return"$"+e},t.fromSetString=function(e){return e.substr(1)},t.compareByOriginalPositions=function(e,t,n){var r;return(r=i(e.source,t.source))?r:(r=e.originalLine-t.originalLine)?r:(r=e.originalColumn-t.originalColumn)||n?r:(r=i(e.name,t.name))?r:(r=e.generatedLine-t.generatedLine)||e.generatedColumn-t.generatedColumn},t.compareByGeneratedPositions=function(e,t,n){var r;return(r=e.generatedLine-t.generatedLine)?r:(r=e.generatedColumn-t.generatedColumn)||n?r:(r=i(e.source,t.source))?r:(r=e.originalLine-t.originalLine)?r:(r=e.originalColumn-t.originalColumn)||i(e.name,t.name)}})},{amdefine:4}],28:[function(require,module,exports){var indexOf=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},Object_keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)t.push(n);return t},forEach=function(e,t){if(e.forEach)return e.forEach(t);for(var n=0;n<e.length;n++)t(e[n],n,e)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(e,t,n){Object.defineProperty(e,t,{writable:!0,enumerable:!1,configurable:!0,value:n})}}catch(e){return function(e,t,n){e[t]=n}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(e){if(!(this instanceof Script))return new Script(e);this.code=e};Script.prototype.runInContext=function(t){if(!(t instanceof Context))throw new TypeError("needs a 'context' argument.");var e=document.createElement("iframe");e.style||(e.style={}),e.style.display="none",document.body.appendChild(e);var n=e.contentWindow,r=n.eval,i=n.execScript;!r&&i&&(i.call(n,"null"),r=n.eval),forEach(Object_keys(t),function(e){n[e]=t[e]}),forEach(globals,function(e){t[e]&&(n[e]=t[e])});var o=Object_keys(n),a=r.call(n,this.code);return forEach(Object_keys(n),function(e){(e in t||-1===indexOf(o,e))&&(t[e]=n[e])}),forEach(globals,function(e){e in t||defineProp(t,e,n[e])}),document.body.removeChild(e),a},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(t){var n=Script.createContext(t),e=this.runInContext(n);return t&&forEach(Object_keys(n),function(e){t[e]=n[e]}),e},forEach(Object_keys(Script.prototype),function(n){exports[n]=Script[n]=function(e){var t=Script(e);return t[n].apply(t,[].slice.call(arguments,1))}}),exports.isContext=function(e){return e instanceof Context},exports.createScript=function(e){return exports.Script(e)},exports.createContext=Script.createContext=function(t){var n=new Context;return"object"==typeof t&&forEach(Object_keys(t),function(e){n[e]=t[e]}),n}},{}],"wisp/analyzer":[function(e,t,n){var r=e("./ast"),c=r.meta,s=r.withMeta,l=r.isSymbol,o=r.isKeyword,a=r.isQuote,p=r.symbol,i=r.namespace,u=r.name,f=r.prStr,d=(r.isUnquote,r.isUnquoteSplicing,e("./sequence")),h=d.isList,m=d.list,g=d.conj,y=d.partition,v=(d.seq,d.isEmpty),w=d.map,b=d.vec,S=(d.isEvery,d.concat),_=d.first,E=d.second,x=d.third,C=d.rest,A=d.last,q=d.butlast,k=(d.interleave,d.cons),I=d.count,O=d.some,M=d.assoc,R=d.reduce,j=d.filter,L=d.isSeq,B=e("./runtime"),T=B.isNil,D=B.isDictionary,P=B.isVector,F=B.keys,N=B.vals,U=B.isString,z=(B.isNumber,B.isBoolean,B.isDate,B.isRePattern,B.isEven),W=B.isEqual,V=B.max,$=B.dec,G=B.dictionary,Q=(B.subs,B.inc),K=($=B.dec,e("./expander").macroexpand),H=e("./string"),Y=H.split,J=H.join,X=n.syntaxError=function(o,a){return function(){var e=c(a),t=((e||0).start||0).line,n=(e||0).uri,r=((e||0).start||0).column,i=SyntaxError(o+"\nForm: "+f(a)+"\nURI: "+n+"\nLine: "+t+"\nColumn: "+r);return i.lineNumber=t,i.line=t,i.columnNumber=r,i.column=r,i.fileName=n,i.uri=n,function(){throw i}()}.call(this)},Z=n.analyzeKeyword=function(e,t){return{op:"constant",form:t}},ee=n.__specials__={},te=n.installSpecial=function(e,t){return ee[u(e)]=t},ne=n.analyzeSpecial=function(n,r,i){return function(){var e=c(i),t=n(r,i);return g({start:(e||0).start,end:(e||0).end},t)}.call(this)};te("if",n.analyzeIf=function(i,o){return function(){var e=C(o),t=Re(i,_(e)),n=Re(i,E(e)),r=Re(i,x(e));return I(e)<2&&X("Malformed if expression, too few operands",o),{op:"if",form:o,test:t,consequent:n,alternate:r}}.call(this)}),te("throw",n.analyzeThrow=function(t,n){return function(){var e=Re(t,E(n));return{op:"throw",form:n,throw:e}}.call(this)}),te("try",n.analyzeTry=function(c,l){return function(){var e=b(C(l)),t=A(e),n=h(t)&&W(p(void 0,"finally"),_(t))?C(t):void 0,r=n?Ee(c,n):void 0,i=r?q(e):e,o=A(i),a=h(o)&&W(p(void 0,"catch"),_(o))?C(o):void 0,s=a?g({name:Re(c,_(a))},Ee(c,C(a))):void 0,u=Ee(he(c),a?q(i):i);return{op:"try",form:l,body:u,handler:s,finalizer:r}}.call(this)}),te("set!",n.analyzeSet=function(r,i){return function(){var e=C(i),t=_(e),n=E(e);return{op:"set!",target:l(t)?ie(r,t):h(t)?qe(r,t):t,value:Re(r,n),form:i}}.call(this)}),te("new",n.analyzeNew=function(r,i){return function(){var e=C(i),t=Re(r,_(e)),n=b(w(function(e){return Re(r,e)},C(e)));return{op:"new",constructor:t,form:i,params:n}}.call(this)}),te("aget",n.analyzeAget=function(i,o){return function(){var e=C(o),t=Re(i,_(e)),n=E(e),r=a(n)&&l(E(n))&&E(n);return T(n)?X("Malformed aget expression expected (aget object member)",o):{op:"member-expression",computed:!r,form:o,target:t,property:r?g(ne(oe,i,r),{binding:void 0}):Re(i,n)}}.call(this)});var re=n.parseDef=function(e,t,n){switch(arguments.length){case 1:return{id:e};case 2:return{id:e,init:t};case 3:return{id:e,doc:t,init:n};default:throw RangeError("Wrong number of arguments passed")}};te("def",n.analyzeDef=function(o,a){return function(){var e=re.apply(void 0,b(C(a))),t=(e||0).id,n=c(t),r=ne(le,o,t),i=Re(o,(e||0).init);return{op:"def",doc:(e||0).doc||(n||0).doc,id:r,init:i,export:(o||0).top&&!(n||0).private,form:a}}.call(this)}),te("do",n.analyzeDo=function(n,r){return function(){var e=C(r),t=Ee(n,e);return g(t,{op:"do",form:r})}.call(this)});var ie=n.analyzeSymbol=function(o,a){return function(){var e=Y(u(a),"."),t=c(a),n=(t||0).start,r=(t||0).end,i=1<I(e)?m(p(void 0,"aget"),s(p(_(e)),g(t,{start:n,end:{line:(r||0).line,column:1+(n||0).column+I(_(e))}})),m(p(void 0,"quote"),s(p(J(".",C(e))),g(t,{end:r,start:{line:(n||0).line,column:1+(n||0).column+I(_(e))}})))):void 0;return i?Re(o,s(i,c(a))):ne(oe,o,a)}.call(this)},oe=n.analyzeIdentifier=function(e,t){return{op:"var",type:"identifier",form:t,start:(c(t)||0).start,end:(c(t)||0).end,binding:se(e,t)}},ae=n.unresolvedBinding=function(e,t){return{op:"unresolved-binding",type:"unresolved-binding",identifier:{type:"identifier",form:p(i(t),u(t))},start:(c(t)||0).start,end:(c(t)||0).end}},se=n.resolveBinding=function(e,t){return((e||0).locals||0)[u(t)]||((e||0).enclosed||0)[u(t)]||ae(e,t)},ue=n.analyzeShadow=function(t,n){return function(){var e=se(t,n);return{depth:Q((e||0).depth||0),shadow:e}}.call(this)},ce=n.analyzeBinding=function(n,r){return function(){var e=_(r),t=E(r);return g(ue(n,e),{op:"binding",type:"binding",id:e,init:Re(n,t),form:r})}.call(this)},le=n.analyzeDeclaration=function(e,t){return(i(t)||1<I(Y(".",""+t)))&&function(){throw Error('Assert failed: (not (or (namespace form) (< 1 (count (split "." (str form))))))')}(),g(ue(e,t),{op:"var",type:"identifier",depth:0,id:t,form:t})},pe=n.analyzeParam=function(e,t){return g(ue(e,t),{op:"param",type:"parameter",id:t,form:t,start:(c(t)||0).start,end:(c(t)||0).end})},fe=n.withBinding=function(e,t){return g(e,{locals:M((e||0).locals,u((t||0).id),t),bindings:g((e||0).bindings,t)})},de=n.withParam=function(e,t){return g(fe(e,t),{params:g((e||0).params,t)})},he=n.subEnv=function(e){return{enclosed:g({},(e||0).enclosed,(e||0).locals),locals:{},bindings:[],params:(e||0).params||[]}},me=n.analyzeLet_=function(a,s,u){return function(){var e=C(s),t=_(e),n=C(e),r=(P(t)&&z(I(t))||function(){throw Error("Assert failed: bindings must be vector of even number of elementsvalid-bindings?")}(),R(function(e,t){return fe(e,ce(e,t))},he(a),y(2,t))),i=(r||0).bindings,o=Ee(u?g(r,{params:i}):r,n);return{op:"let",form:s,start:(c(s)||0).start,end:(c(s)||0).end,bindings:i,statements:(o||0).statements,result:(o||0).result}}.call(this)};te("let",n.analyzeLet=function(e,t){return me(e,t,!1)}),te("loop",n.analyzeLoop=function(e,t){return g(me(e,t,!0),{op:"loop"})}),te("recur",n.analyzeRecur=function(n,r){return function(){var e=(n||0).params,t=b(w(function(e){return Re(n,e)},C(r)));return W(I(e),I(t))?{op:"recur",form:r,params:t}:X("Recurs with wrong number of arguments",r)}.call(this)});var ge=n.analyzeQuotedList=function(e){return{op:"list",items:w(Se,b(e)),form:e,start:(c(e)||0).start,end:(c(e)||0).end}},ye=n.analyzeQuotedVector=function(e){return{op:"vector",items:w(Se,e),form:e,start:(c(e)||0).start,end:(c(e)||0).end}},ve=n.analyzeQuotedDictionary=function(n){return function(){var e=b(w(Se,F(n))),t=b(w(Se,N(n)));return{op:"dictionary",form:n,keys:e,values:t,start:(c(n)||0).start,end:(c(n)||0).end}}.call(this)},we=n.analyzeQuotedSymbol=function(e){return{op:"symbol",name:u(e),namespace:i(e),form:e}},be=n.analyzeQuotedKeyword=function(e){return{op:"keyword",name:u(e),namespace:i(e),form:e}},Se=n.analyzeQuoted=function(e){return l(e)?we(e):o(e)?be(e):h(e)?ge(e):P(e)?ye(e):D(e)?ve(e):{op:"constant",form:e}};te("quote",n.analyzeQuote=function(e,t){return Se(E(t))});var _e=n.analyzeStatement=function(i,o){return function(){var e=(i||0).statements||[],t=(i||0).bindings||[],n=Re(g(i,{statements:void 0}),o),r=W((n||0).op,"def")?[(n||0).var]:void 0;return g(i,{statements:g(e,n),bindings:S(t,r)})}.call(this)},Ee=n.analyzeBlock=function(n,r){return function(){var e=1<I(r)?R(_e,n,q(r)):void 0,t=Re(e||n,A(r));return{statements:(e||0).statements,result:t}}.call(this)},xe=n.analyzeFnMethod=function(a,s){return function(){var e=h(s)&&P(_(s))?_(s):X("Malformed fn overload form",s),t=C(s),n=O(function(e){return W(p(void 0,"&"),e)},e),r=n?j(function(e){return!W(p(void 0,"&"),e)},e):e,i=n?$(I(r)):I(r),o=R(function(e,t){return de(e,pe(e,t))},g(a,{params:[]}),r);return g(Ee(o,t),{op:"overload",variadic:n,arity:i,params:(o||0).params,form:s})}.call(this)};te("fn",n.analyzeFn=function(u,c){return function(){var e=C(c),t=l(_(e))?e:k(void 0,e),n=_(t),r=n?ne(le,u,n):void 0,i=C(t),o=P(_(i))?m(i):h(_(i))&&P(_(_(i)))?i:X("Malformed fn expression, parameter declaration ("+f(_(i))+") must be a vector",c),a=r?fe(he(u),r):he(u),s=w(function(e){return xe(a,e)},b(o));V.apply(void 0,w(function(e){return(e||0).arity},s));return{op:"fn",type:"function",id:r,variadic:O(function(e){return(e||0).variadic},s),methods:s,form:c}}.call(this)});var Ce=n.parseReferences=function(e){return R(function(e,t){return L(t)?M(e,u(_(t)),b(C(t))):e},{},e)},Ae=n.parseRequire=function(s){return function(){var e=l(s)?[s]:b(s),n=_(e),t=G.apply(void 0,C(e)),r=(t||0)["꞉rename"],i=(t||0)["꞉refer"],o=(t||0)["꞉as"],a=v(i)?void 0:R(function(e,t){return g(e,{op:"refer",form:t,name:t,rename:(r||0)[t]||(r||0)[u(t)],ns:n})},[],i);return{op:"require",alias:o,ns:n,refer:a,form:s}}.call(this)};te("ns",n.analyzeNs=function(e,a){return function(){var e=C(a),t=_(e),n=C(e),r=U(_(n))?_(n):void 0,i=Ce(r?C(n):n),o=(i||0).require?w(Ae,(i||0).require):void 0;return{op:"ns",name:t,doc:r,require:o?b(o):void 0,form:a}}.call(this)});var qe=n.analyzeList=function(r,i){return function(){var e=K(i,r),t=_(i),n=l(t)&&ee[u(t)];return e!==i?Re(r,e):n?ne(n,r,e):Oe(r,e)}.call(this)},ke=n.analyzeVector=function(t,n){return function(){var e=b(w(function(e){return Re(t,e)},n));return{op:"vector",form:n,items:e}}.call(this)},Ie=n.analyzeDictionary=function(t,e){return function(){return{op:"dictionary",keys:b(w(function(e){return Re(t,e)},F(e))),values:b(w(function(e){return Re(t,e)},N(e))),form:e}}.call(this)},Oe=n.analyzeInvoke=function(t,e){return function(){return{op:"invoke",callee:Re(t,_(e)),params:b(w(function(e){return Re(t,e)},C(e))),form:e}}.call(this)},Me=n.analyzeConstant=function(e,t){return{op:"constant",form:t}},Re=n.analyze=function e(t,n){switch(arguments.length){case 1:return e({locals:{},bindings:[],top:!0},r=t);case 2:var r,i=t;return T(r=n)?Me(i,r):l(r)?ie(i,r):h(r)?v(r)?Se(r):qe(i,r):D(r)?Ie(i,r):P(r)?ke(i,r):o(r)?Z(i,r):Me(i,r);default:throw RangeError("Wrong number of arguments passed")}}},{"./ast":"wisp/ast","./expander":"wisp/expander","./runtime":"wisp/runtime","./sequence":"wisp/sequence","./string":"wisp/string"}],"wisp/ast":[function(e,t,n){function r(e,t){return this.namespace=e,this.name=t,this}var i=e("./sequence"),o=i.isList,a=i.isSequential,s=i.first,u=i.second,c=i.count,l=i.last,p=i.map,f=i.vec,d=i.repeat,h=e("./string"),m=h.split,g=h.join,y=e("./runtime"),v=y.isNil,w=y.isVector,b=(y.isNumber,y.isString),S=(y.isBoolean,y.isObject,y.isDate),_=y.isRePattern,E=y.isDictionary,x=(y.str,y.inc),C=y.subs,A=y.isEqual,q=(n.withMeta=function(e,t){return Object.defineProperty(e,"metadata",{value:t,configurable:!0}),e},n.meta=function(e){return v(e)?void 0:e.metadata},n.__nsSeparator__="⁄");r.prototype.type=r.type="wisp.symbol",r.prototype.toString=function(){return function(){var e="\ufeff'",t=R(this);return t?e+t+"/"+M(this):e+M(this)}.call(this)};var k=n.symbol=function(e,t){return I(e)?e:O(e)?new r(R(e),M(e)):v(t)?new r(void 0,e):new r(e,t)},I=n.isSymbol=function(e){return b(e)&&"\ufeff"===e[0]&&"'"===e[1]||e&&r.type===e.type},O=n.isKeyword=function(e){return b(e)&&1<c(e)&&"꞉"===s(e)},M=(n.keyword=function(e,t){return O(e)?e:I(e)?"꞉"+M(e):v(t)?"꞉"+e:v(e)?"꞉"+t:"꞉"+e+q+t},n.name=function(e){return I(e)?(t=e).name||l(m(C(t,2),q)):O(e)?l(m(C(e,1),q)):b(e)?e:function(){throw new TypeError("Doesn't support name: "+e)}();var t}),R=n.namespace=function(e){return I(e)?function(t){return function(){var e=b(t)?m(C(t,1),q):[t.namespace,t.name];return 1<c(e)?e[0]:void 0}.call(this)}(e):O(e)?function(t){return function(){var e=m(C(t,1),q);return 1<c(e)?e[0]:void 0}.call(this)}(e):function(){throw new TypeError("Doesn't supports namespace: "+e)}()};(n.gensym=function e(t){return k(""+(v(t)?"G__":t)+(e.base=e.base+1))}).base=0;function j(r,i){return function e(){for(var t=e,n=""+r;t=c(n)<i?(e[0]="0"+n,e):n,n=e[0],t===e;);return t}.call(this)}n.isUnquote=function(e){return o(e)&&A(s(e),k(void 0,"unquote"))},n.isUnquoteSplicing=function(e){return o(e)&&A(s(e),k(void 0,"unquote-splicing"))},n.isQuote=function(e){return o(e)&&A(s(e),k(void 0,"quote"))},n.isSyntaxQuote=function(e){return o(e)&&A(s(e),k(void 0,"syntax-quote"))};var L=n.quoteString=function(e){return e=g('\\"',m(e,'"')),e=g("\\\\",m(e,"\\")),e=g("\\b",m(e,"\b")),e=g("\\f",m(e,"\f")),e=g("\\n",m(e,"\n")),e=g("\\r",m(e,"\r")),'"'+(e=g("\\t",m(e,"\t")))+'"'};n.prStr=function r(e,t){return function(){var n=t||0;return v(e)?"nil":O(e)?R(e)?":"+R(e)+"/"+M(e):":"+M(e):I(e)?R(e)?R(e)+"/"+M(e):M(e):b(e)?L(e):S(e)?'#inst "'+e.getUTCFullYear()+"-"+j(x(e.getUTCMonth()),2)+"-"+j(e.getUTCDate(),2)+"T"+j(e.getUTCHours(),2)+":"+j(e.getUTCMinutes(),2)+":"+j(e.getUTCSeconds(),2)+"."+j(e.getUTCMilliseconds(),3)+'-00:00"':w(e)?"["+g("\n "+g(d(x(n)," ")),p(function(e){return r(e,x(n))},f(e)))+"]":E(e)?"{"+g(",\n"+g(d(x(n)," ")),p(function(t){return function(){g(d(n," "));var e=r(s(t),x(n));return e+" "+r(u(t),2+n+c(e))}.call(this)},e))+"}":a(e)?"("+g(" ",p(function(e){return r(e,x(n))},f(e)))+")":_(e)?'#"'+g("\\/",m(e.source,"/"))+'"':""+e}.call(this)}},{"./runtime":"wisp/runtime","./sequence":"wisp/sequence","./string":"wisp/string"}],"wisp/backend/javascript/writer":[function(e,t,n){var r=e("./../../ast"),i=r.name,o=r.namespace,a=r.symbol,s=r.isSymbol,u=r.isKeyword,c=e("./../../sequence"),l=c.list,p=c.first,f=c.second,d=(c.third,c.rest),h=c.isList,m=c.vec,g=c.map,y=c.count,v=c.last,w=c.reduce,b=c.isEmpty,S=e("./../../runtime"),_=S.isTrue,E=S.isNil,x=S.isString,C=S.isNumber,A=S.isVector,q=S.isDictionary,k=S.isBoolean,I=S.isRePattern,O=S.reFind,M=S.dec,R=S.subs,j=(S.isEqual,e("./../../string")),L=j.replace,B=j.join,T=j.split,D=j.upperCase,P=n.writeReference=function(t){return function(){var e=i(t);return e=B("_",T(e="*"===e?"multiply":"/"===e?"divide":"+"===e?"sum":"-"===e?"subtract":"="===e?"equal?":"=="===e?"strict-equal?":"<="===e?"not-greater-than":">="===e?"not-less-than":">"===e?"greater-than":"<"===e?"less-than":"->"===e?"thread-first":e,"*")),e=B("-to-",T(e,"->")),e=B(T(e,"!")),e=B("$",T(e,"%")),e=B("-plus-",T(e,"+")),e=B("-and-",T(e,"&")),e="?"===v(e)?"is-"+R(e,0,M(y(e))):e,e=w(function(e,t){return""+e+(b(e)||b(t)?t:""+D((t||0)[0])+R(t,1))},"",T(e,"-"))}.call(this)},F=n.writeKeywordReference=function(e){return'"'+i(e)+'"'},N=(n.writeKeyword=function(e){return'"꞉'+i(e)+'"'},n.writeSymbol=function(e){return Y(l(a(void 0,"symbol"),o(e),i(e)))},n.writeNil=function(){return"void(0)"}),U=n.writeNumber=function(e){return e},z=n.writeBoolean=function(e){return _(e)?"true":"false"},W=n.writeString=function(e){return e=L(e,RegExp("\\\\","g"),"\\\\"),e=L(e,RegExp("\n","g"),"\\n"),e=L(e,RegExp("\r","g"),"\\r"),e=L(e,RegExp("\t","g"),"\\t"),'"'+(e=L(e,RegExp('"',"g"),'\\"'))+'"'},V=n.writeTemplate=function(){var u=Array.prototype.slice.call(arguments,0);return function(){var a=/\n *$/,s=RegExp("\n","g");return function e(){for(var t,n=e,r="",i=T(p(u),"~{}"),o=d(u);n=1<y(i)?(e[0]=""+r+p(i)+L(""+p(o),s,(t=p(i),O(a,t)||"\n")),e[1]=d(i),e[2]=d(o),e):""+r+p(i),r=e[0],i=e[1],o=e[2],n===e;);return n}.call(this)}.call(this)},$=n.writeGroup=function(){var e=Array.prototype.slice.call(arguments,0);return B(", ",e)},G=n.writeInvoke=function(e){var t=Array.prototype.slice.call(arguments,1);return V("~{}(~{})",e,$.apply(void 0,t))},Q=n.writeError=function(e){return function(){return function(){throw Error(e)}()}},K=n.writeVector=Q("Vectors are not supported"),H=n.writeDictionary=Q("Dictionaries are not supported"),Y=(n.writeRePattern=function(r){return function(){var e,t=(r.multiline?"m":"")+(r.ignoreCase?"i":"")+(r.sticky?"y":""),n=r.source;return"/"+(e=B("/",T(e=n,"\\/")),e=B("\\/",T(e,"/")))+"/"+t}.call(this)},n.compileComment=function(e){return compileTemplate(l("//~{}\n",p(e)))},n.writeDef=function(r){return function(){var e=p(r),t=(meta(r)||{}||0).top&&!(meta(e)||{}||0).private,n=a(o(e),"-"+i(e));return t?compileTemplate(l("var ~{};\n~{}",compile(cons(a(void 0,"set!"),r)),compile(l.apply(void 0,[a(void 0,"set!")].concat([l.apply(void 0,[a(void 0,".")].concat([a(void 0,"exports")],[n]))],[e]))))):compileTemplate(l("var ~{}",compile(cons(a(void 0,"set!"),r))))}.call(this)},n.isWriteInstance=function(e){return V("~{} instanceof ~{}",Y(f(e)),Y(p(e)))},n.write=function e(t){return E(t)?N(t):s(t)?P(t):u(t)?F(t):x(t)?W(t):C(t)?U(t):k(t)?z(t):I(t)?writePattern(t):A(t)?K(t):q(t)?H():h(t)?G.apply(void 0,g(e,m(t))):Q("Unsupported form")})},{"./../../ast":"wisp/ast","./../../runtime":"wisp/runtime","./../../sequence":"wisp/sequence","./../../string":"wisp/string"}],"wisp/compiler":[function(require,module,exports){var _ns_={id:"wisp.compiler",doc:void 0},wisp_analyzer=require("./analyzer"),analyze=wisp_analyzer.analyze,wisp_reader=require("./reader"),read_=wisp_reader.read_,read=wisp_reader.read,pushBackReader=wisp_reader.pushBackReader,wisp_string=require("./string"),replace=wisp_string.replace,wisp_sequence=require("./sequence"),map=wisp_sequence.map,reduce=wisp_sequence.reduce,conj=wisp_sequence.conj,cons=wisp_sequence.cons,vec=wisp_sequence.vec,first=wisp_sequence.first,rest=wisp_sequence.rest,isEmpty=wisp_sequence.isEmpty,count=wisp_sequence.count,wisp_runtime=require("./runtime"),isError=wisp_runtime.isError,isEqual=wisp_runtime.isEqual,wisp_ast=require("./ast"),name=wisp_ast.name,symbol=wisp_ast.symbol,prStr=wisp_ast.prStr,wisp_backend_escodegen_generator=require("./backend/escodegen/generator"),generateJs=wisp_backend_escodegen_generator.generate,base64Encode=require("base64-encode"),btoa=base64Encode,generate=exports.generate=generateJs,readForm=exports.readForm=function(e,t){return function(){try{return read(e,!1,t,!1)}catch(e){return e}}()},readForms=exports.readForms=function(e,t){return function(){var i=pushBackReader(e,t),o={};return function e(){for(var t=e,n=[],r=readForm(i,o);t=isError(r)?{forms:n,error:r}:r===o?{forms:n}:(e[0]=conj(n,r),e[1]=readForm(i,o),e),n=e[0],r=e[1],t===e;);return t}.call(this)}.call(this)},analyzeForm=exports.analyzeForm=function(e,t){return function(){try{return analyze(e,t)}catch(e){return e}}()},analyzeForms=exports.analyzeForms=function(t){return function n(){for(var e=n,r=[],i=t,o={locals:{},bindings:[],top:!0,ns:{name:symbol(void 0,"user.wisp")}};e=function(){var e=analyzeForm(o,first(i)),t=isEqual((e||0).op,"ns")?e:(o||0).ns;return isError(e)?{ast:r,error:e}:count(i)<=1?{ast:conj(r,e)}:(n[0]=conj(r,e),n[1]=rest(i),n[2]=conj(o,{ns:t}),n)}.call(this),r=n[0],i=n[1],o=n[2],e===n;);return e}.call(this)},compile=exports.compile=function e(t,n){switch(arguments.length){case 1:return e(o=t,{});case 2:var o=t,a=n;return function(){var e=(a||0)["source-uri"]||name("anonymous.wisp"),t=readForms(o,e),n=(t||0).error?t:analyzeForms((t||0).forms),r=(n||0).error?n:function(){try{return generate.apply(void 0,vec(cons(conj(a,{source:o,"source-uri":e}),(n||0).ast)))}catch(e){return{error:e}}}(),i="expansion"===(a||0).print?reduce(function(e,t){return""+e+prStr(t.form)+"\n"},"",n.ast):void 0;return conj(a,r,{"source-uri":e,ast:(n||0).ast,forms:(t||0).forms,expansion:i})}.call(this);default:throw RangeError("Wrong number of arguments passed")}},evaluate=exports.evaluate=function evaluate(source){return function(){var outputø1=compile(source);return(outputø1||0).error?function(){throw(outputø1||0).error}():eval((outputø1||0).code)}.call(this)}},{"./analyzer":"wisp/analyzer","./ast":"wisp/ast","./backend/escodegen/generator":1,"./reader":"wisp/reader","./runtime":"wisp/runtime","./sequence":"wisp/sequence","./string":"wisp/string","base64-encode":5}],"wisp/expander":[function(e,t,n){function o(n,r){return function(){var e=n.apply(void 0,b(r)),t=g({},c(r),c(e));return l(e,t)}.call(this)}var r=e("./ast"),c=r.meta,l=r.withMeta,a=r.isSymbol,s=r.isKeyword,p=(r.isQuote,r.symbol),u=(r.namespace,r.name),i=r.isUnquote,f=r.isUnquoteSplicing,d=e("./sequence"),h=d.isList,m=d.list,g=d.conj,y=(d.partition,d.seq),v=d.isEmpty,w=d.map,b=d.vec,S=(d.isEvery,d.concat),_=d.first,E=d.second,x=(d.third,d.rest),C=d.last,A=(d.butlast,d.interleave,d.cons),q=d.count,k=(d.some,d.assoc,d.reduce),I=(d.filter,d.isSeq,d.lazySeq,e("./runtime")),O=I.isNil,M=I.isDictionary,R=I.isVector,j=(I.keys,I.vals,I.isString),L=I.isNumber,B=I.isBoolean,T=(I.isDate,I.isRePattern),D=(I.isEven,I.isEqual),P=(I.max,I.inc),F=I.dec,N=(I.dictionary,I.subs),U=(e("./string").split,n.__macros__={}),z=n.installMacro=function(e,t){return U[u(e)]=t},W=n.isMethodSyntax=function(t){return function(){var e=a(t)&&u(t);return e&&"."===_(e)&&!("-"===E(e))&&!("."===e)}.call(this)},V=n.isFieldSyntax=function(t){return function(){var e=a(t)&&u(t);return e&&"."===_(e)&&"-"===E(e)}.call(this)},$=n.isNewSyntax=function(t){return function(){var e=a(t)&&u(t);return e&&"."===C(e)&&!("."===e)}.call(this)},G=n.methodSyntax=function(o,a){var s=Array.prototype.slice.call(arguments,2);return function(){var e=c(o),t=(e||0).start,n=(c(a),l(p(N(u(o),1)),g(e,{start:{line:(t||0).line,column:P((t||0).column)}}))),r=l(p(void 0,"aget"),g(e,{end:{line:(t||0).line,column:P((t||0).column)}})),i=l(m.apply(void 0,[r].concat([a],[m.apply(void 0,[p(void 0,"quote")].concat([n]))])),g(e,{end:(c(a)||0).end}));return O(a)?function(){throw Error("Malformed method expression, expecting (.method object ...)")}():m.apply(void 0,[i].concat(b(s)))}.call(this)},Q=n.fieldSyntax=function(r,i){var o=Array.prototype.slice.call(arguments,2);return function(){var e=c(r),t=(e||0).start,n=l(p(N(u(r),2)),g(e,{start:{line:(t||0).line,column:(t||0).column+2}}));return O(i)||q(o)?function(){throw Error("Malformed member expression, expecting (.-member target)")}():m.apply(void 0,[p(void 0,"aget")].concat([i],[m.apply(void 0,[p(void 0,"quote")].concat([n]))]))}.call(this)},K=n.newSyntax=function(i){var o=Array.prototype.slice.call(arguments,1);return function(){var e=u(i),t=(e||0).meta,n=N(e,0,F(q(e))),r=l(p(n),g(t,{end:{line:((t||0).end||0).line,column:F(((t||0).end||0).column)}}));l(p(void 0,"new"),g(t,{start:{line:((t||0).end||0).line,column:F(((t||0).end||0).column)}}));return m.apply(void 0,[p(void 0,"new")].concat([r],b(o)))}.call(this)},H=n.keywordInvoke=function(e,t){return m.apply(void 0,[p(void 0,"get")].concat([t],[e]))},Y=n.macroexpand1=function(r,i){return function(){var e,t=h(r)&&_(r),n=a(e=t)&&U[u(e)];return n?function(i,o,a){return function(){var e=c(o)||{},t=(x(o),w(function(e){return D("&form",e)?o:D("&env",e)?a:e},(c(i)||0).implicit||[])),n=b(S(t,b(x(o)))),r=i.apply(void 0,n);return r?l(r,g(e,c(r))):r}.call(this)}(n,r,i):s(t)?o(H,r):V(t)?o(Q,r):W(t)?o(G,r):$(t)?o(K,r):r}.call(this)},J=(n.macroexpand=function(i,o){return function e(){for(var t=e,n=i,r=Y(i,o);t=n===r?n:(e[0]=r,e[1]=Y(r,o),e),n=e[0],r=e[1],t===e;);return t}.call(this)},n.syntaxQuote=function(e){return a(e)?m(p(void 0,"quote"),e):s(e)?m(p(void 0,"quote"),e):L(e)||j(e)||B(e)||O(e)||T(e)?e:i(e)?E(e):f(e)?readerError("Illegal use of `~@` expression, can only be present in a list"):v(e)?e:M(e)?m(p(void 0,"apply"),p(void 0,"dictionary"),A(p(void 0,".concat"),ee(S.apply(void 0,y(e))))):R(e)?A(p(void 0,".concat"),ee(e)):h(e)?v(e)?A(p(void 0,"list"),void 0):m(p(void 0,"apply"),p(void 0,"list"),A(p(void 0,".concat"),ee(e))):readerError("Unknown Collection type")}),X=n.syntaxQuoteExpand=J,Z=n.unquoteSplicingExpand=function(e){return R(e)?e:m(p(void 0,"vec"),e)},ee=n.sequenceExpand=function(e){return w(function(e){return i(e)?[E(e)]:f(e)?Z(E(e)):[X(e)]},e)};z("syntax-quote",J),z("not=",n.notEqual=function(){var e=Array.prototype.slice.call(arguments,0);return m.apply(void 0,[p(void 0,"not")].concat([m.apply(void 0,[p(void 0,"=")].concat(b(e)))]))}),z("if-not",n.ifNot=function(e,t,n){return m.apply(void 0,[p(void 0,"if")].concat([m.apply(void 0,[p(void 0,"not")].concat([e]))],[t],[n]))}),z("comment",n.expandComment=function(){Array.prototype.slice.call(arguments,0)}),z("->",n.expandThreadFirst=function(){var e=Array.prototype.slice.call(arguments,0);return k(function(e,t){return A(_(t),A(e,x(t)))},_(e),w(function(e){return h(e)?e:m.apply(void 0,[e].concat())},x(e)))}),z("cond",n.expandCond=function(){var e=Array.prototype.slice.call(arguments,0);return v(e)?void 0:m(p(void 0,"if"),_(e),v(x(e))?function(){throw Error("cond requires an even number of forms")}():E(e),A(p(void 0,"cond"),x(x(e))))});var te=n.expandDefn=function(a,s){var u=Array.prototype.slice.call(arguments,2);return function(){var e=j(_(u))?_(u):void 0,t=e?x(u):u,n=M(_(t))?g({doc:e},_(t)):void 0,r=n?x(t):t,i=l(s,g(c(s)||{},n)),o=l(m.apply(void 0,[p(void 0,"fn")].concat([i],b(r))),c(a));return m.apply(void 0,[p(void 0,"def")].concat([i],[o]))}.call(this)};z("defn",l(te,{implicit:["&form"]})),z("defn-",n.expandPrivateDefn=function(n){var r=Array.prototype.slice.call(arguments,1);return function(){var e=g(c(n)||{},{private:!0}),t=l(n,e);return m.apply(void 0,[p(void 0,"defn")].concat([t],b(r)))}.call(this)}),z("lazy-seq",n.expandLazySeq=function(){var e=Array.prototype.slice.call(arguments,0);return m.apply(void 0,[p(void 0,".call")].concat([p(void 0,"lazy-seq")],[void 0],[!1],[m.apply(void 0,[p(void 0,"fn")].concat([[]],b(e)))]))})},{"./ast":"wisp/ast","./runtime":"wisp/runtime","./sequence":"wisp/sequence","./string":"wisp/string"}],"wisp/reader":[function(e,t,n){var r=e("./sequence"),o=r.list,i=r.isList,s=r.count,u=(r.isEmpty,r.first),a=r.second,c=(r.third,r.rest),l=r.map,p=r.vec,f=(r.cons,r.conj),d=(c=r.rest,r.concat),h=r.last,m=r.butlast,g=r.sort,y=(r.lazySeq,r.reduce),v=e("./runtime"),w=v.isOdd,b=v.dictionary,S=v.keys,_=v.isNil,E=v.inc,x=(v.dec,v.isVector),C=v.isString,A=(v.isNumber,v.isBoolean),q=v.isObject,k=v.isDictionary,I=v.rePattern,O=v.reMatches,M=v.reFind,R=(v.str,v.subs,v.char),j=v.vals,L=v.isEqual,B=e("./ast"),T=B.isSymbol,D=B.symbol,P=B.isKeyword,F=B.keyword,N=B.meta,U=B.withMeta,z=B.name,W=B.gensym,V=e("./string"),$=V.split,G=V.join,Q=n.pushBackReader=function(e,t){return{lines:$(e,"\n"),buffer:"",uri:t,column:-1,line:0}},K=n.peekChar=function(n){return function(){var e=(n||0).lines[(n||0).line],t=E((n||0).column);return _(e)?void 0:e[t]||"\n"}.call(this)},H=n.readChar=function(t){return function(){var e=K(t);return Y(K(t))?((t||0).line=E((t||0).line),(t||0).column=-1):(t||0).column=E((t||0).column),e}.call(this)},Y=n.isNewline=function(e){return"\n"===e},J=n.isBreakingWhitespace=function(e){return" "===e||"\t"===e||"\n"===e||"\r"===e},X=n.isWhitespace=function(e){return J(e)||","===e},Z=n.isNumeric=function(e){return"0"===e||"1"===e||"2"===e||"3"===e||"4"===e||"5"===e||"6"===e||"7"===e||"8"===e||"9"===e},ee=n.isCommentPrefix=function(e){return";"===e},te=n.isNumberLiteral=function(e,t){return Z(t)||("+"===t||"-"===t)&&Z(K(e))},ne=n.readerError=function(t,n){return function(){var e=SyntaxError(n+"\nline:"+(t||0).line+"\ncolumn:"+(t||0).column,(t||0).uri);return e.line=(t||0).line,e.column=(t||0).column,e.uri=(t||0).uri,function(){throw e}()}.call(this)},re=n.isMacroTerminating=function(e){return!("#"===e)&&!("'"===e)&&!(":"===e)&&Qe(e)},ie=n.readToken=function(i,o){return function e(){for(var t=e,n=o,r=K(i);t=_(r)||X(r)||re(r)?n:(e[0]=""+n+H(i),e[1]=K(i),e),n=e[0],r=e[1],t===e;);return t}.call(this)},oe=(n.skipLine=function(n){return function t(){for(var e=t;(e=function(){var e=H(n);return"\n"===e||"\r"===e||_(e)?n:t}.call(this))===t;);return e}.call(this)},n.intPattern=I("^([-+]?)(?:(0)|([1-9][0-9]*)|0[xX]([0-9A-Fa-f]+)|0([0-7]+)|([1-9][0-9]?)[rR]([0-9A-Za-z]+)|0[0-9]+)(N)?$")),ae=n.ratioPattern=I("([-+]?[0-9]+)/([0-9]+)"),se=n.floatPattern=I("([-+]?[0-9]+(\\.[0-9]*)?([eE][-+]?[0-9]+)?)(M)?"),ue=n.matchInt=function(t){return function(){var i=M(oe,t),e=i[2];return _(e)||s(e)<1?function(){var e="-"===i[1]?-1:1,t=i[3]?[i[3],10]:i[4]?[i[4],16]:i[5]?[i[5],8]:i[7]?[i[7],parseInt(i[7])]:[void 0,void 0],n=t[0],r=t[1];return _(n)?void 0:e*parseInt(n,r)}.call(this):0}.call(this)},ce=n.matchRatio=function(r){return function(){var e=M(ae,r),t=e[1],n=e[2];return parseInt(t)/parseInt(n)}.call(this)},le=n.matchFloat=function(e){return parseFloat(e)},pe=n.matchNumber=function(e){return O(oe,e)?ue(e):O(ae,e)?ce(e):O(se,e)?le(e):void 0},fe=n.escapeCharMap=function(e){return"t"===e?"\t":"r"===e?"\r":"n"===e?"\n":"\\"===e?"\\":'"'===e?'"':"b"===e?"\b":"f"===e?"\f":void 0},de=n.read2Chars=function(e){return""+H(e)+H(e)},he=n.read4Chars=function(e){return""+H(e)+H(e)+H(e)+H(e)},me=n.unicode2Pattern=I("[0-9A-Fa-f]{2}"),ge=n.unicode4Pattern=I("[0-9A-Fa-f]{4}"),ye=n.validateUnicodeEscape=function(e,t,n,r){return O(e,r)?r:ne(t,"Unexpected unicode escape \\"+n+r)},ve=n.makeUnicodeChar=function(t,n){return function(){var e=parseInt(t,n||16);return R(e)}.call(this)},we=n.escapeChar=function(e,n){return function(){var e=H(n),t=fe(e);return t||("x"===e?ve(ye(me,n,e,de(n))):"u"===e?ve(ye(ge,n,e,he(n))):Z(e)?R(e):ne(n,"Unexpected unicode escape \\"+e))}.call(this)},be=n.readPast=function(n,r){return function e(){for(var t=e;t=n(K(r))?(e[0]=H(r),e):K(r),t===e;);return t}.call(this)},Se=n.readDelimitedList=function(i,o){return function n(){for(var e=n,r=[];e=function(){be(X,o);var t=H(o);return t||ne(o,"EOF"),i===t?r:function(){var e=He(o,t);return n[0]=e===o?r:f(r,e),n}.call(this)}.call(this),r=n[0],e===n;);return e}.call(this)},_e=(n.notImplemented=function(e,t){return ne(e,"Reader for "+t+" not implemented yet")},n.readDispatch=function(n,r){return function(){var t=H(n),e=Ke(t);return e?e(n,r):function(){var e=Xe(n,t);return e||ne(n,"No dispatch macro for ",t)}.call(this)}.call(this)}),Ee=n.readUnmatchedDelimiter=function(e,t){return ne(e,"Unmatched delimiter ",t)},xe=n.readList=function(t){return function(){var e=Se(")",t,!0);return U(o.apply(void 0,e),N(e))}.call(this)},Ce=n.readComment=function(i){return function e(){for(var t=e,n="",r=H(i);t=_(r)||"\n"===r?i||o(D(void 0,"comment"),n):(e[0]="\\"===r?""+n+we(n,i):""+n+r,e[1]=H(i),e),n=e[0],r=e[1],t===e;);return t}.call(this)},Ae=n.readVector=function(e){return Se("]",e,!0)},qe=n.readMap=function(t){return function(){var e=Se("}",t,!0);return w(s(e))?ne(t,"Map literal must contain an even number of forms"):U(b.apply(void 0,e),N(e))}.call(this)},ke=n.readSet=function(t){return function(){var e=Se("}",t,!0);return U(d([D(void 0,"set")],e),N(e))}.call(this)},Ie=n.readNumber=function(o,a){return function e(){for(var t,n=e,r=a,i=K(o);n=_(i)||X(i)||Qe(i)?(t=pe(r),_(t)?ne(o,"Invalid number format [",r,"]"):new Number(t)):(e[0]=""+r+H(o),e[1]=K(o),e),r=e[0],i=e[1],n===e;);return n}.call(this)},Oe=n.readString=function(i){return function e(){for(var t=e,n="",r=H(i);t=_(r)?ne(i,"EOF while reading string"):"\\"===r?(e[0]=""+n+we(n,i),e[1]=H(i),e):'"'===r?new String(n):(e[0]=""+n+r,e[1]=H(i),e),n=e[0],r=e[1],t===e;);return t}.call(this)},Me=n.readCharacter=function(e){return new String(H(e))},Re=n.readUnquote=function(t){return function(){var e=K(t);return e?"@"===e?(H(t),o(D(void 0,"unquote-splicing"),Ye(t,!0,void 0,!0))):o(D(void 0,"unquote"),Ye(t,!0,void 0,!0)):ne(t,"EOF while reading character")}.call(this)},je=n.specialSymbols=function(e,t){return"nil"===e?void 0:"true"===e||"false"!==e&&t},Le=n.readSymbol=function(o,a){return function(){var e=ie(o,a),t=$(e,"/"),n=1<s(t)&&1<s(e),r=u(t),i=G("/",c(t));return n?D(r,i):je(e,D(e))}.call(this)},Be=n.readKeyword=function(o){return function(){var e=ie(o,H(o)),t=$(e,"/"),n=h(t),r=1<s(t)?G("/",m(t)):void 0,i=":"===h(r)?'namespace can\'t ends with ":"':":"===h(n)?'name can\'t end with ":"':"/"===h(n)?'name can\'t end with "/"':1<s($(e,"::"))?'name can\'t contain "::"':void 0;return i?ne(o,"Invalid token (",i,"): ",e):r||":"!==u(n)?F(r,n):F(c(n))}.call(this)},Te=n.desugarMeta=function(e){return P(e)?b(z(e),!0):T(e)?{tag:e}:C(e)?{tag:e}:k(e)?y(function(e,t){return(e||0)[z(u(t))]=a(t),e},{},e):e},De=n.wrappingReader=function(t){return function(e){return o(t,Ye(e,!0,void 0,!0))}},Pe=n.throwingReader=function(t){return function(e){return ne(e,t)}},Fe=n.readMeta=function(n){return function(){var t=Te(Ye(n,!0,void 0,!0));return k(t)||ne(n,"Metadata must be Symbol, Keyword, String or Map"),function(){var e=Ye(n,!0,void 0,!0);return q(e)?U(e,f(t,N(e))):e}.call(this)}.call(this)},Ne=n.readRegex=function(i){return function e(){for(var t=e,n="",r=H(i);t=_(r)?ne(i,"EOF while reading string"):"\\"===r?(e[0]=""+n+r+H(i),e[1]=H(i),e):'"'===r?I(n):(e[0]=""+n+r,e[1]=H(i),e),n=e[0],r=e[1],t===e;);return t}.call(this)},Ue=n.readParam=function(t,n){return function(){var e=Le(t,n);return L(e,D("%"))?D("%1"):e}.call(this)},ze=n.isParam=function(e){return T(e)&&"%"===u(z(e))},We=n.lambdaParamsHash=function e(t){return ze(t)?b(t,t):k(t)||x(t)||i(t)?f.apply(void 0,l(e,p(t))):{}},Ve=n.lambdaParams=function(r){return function(){var e=g(j(We(r))),t=L(u(e),D("%&")),i=t&&1===s(e)?0:0===s(e)?0:parseInt(c(z(h(e)))),n=function e(){for(var t=e,n=[],r=1;t=r<=i?(e[0]=f(n,D("%"+r)),e[1]=E(r),e):n,n=e[0],r=e[1],t===e;);return t}.call(this);return t?f(n,D(void 0,"&"),D(void 0,"%&")):e}.call(this)},$e=n.readLambda=function(t){return function(){var e=xe(t);return o(D(void 0,"fn"),Ve(e),e)}.call(this)},Ge=n.readDiscard=function(e){return Ye(e,!0,void 0,!0),e},Qe=n.macros=function(e){return'"'===e?Oe:"\\"===e?Me:":"===e?Be:";"===e?Ce:"'"===e?De(D(void 0,"quote")):"@"===e?De(D(void 0,"deref")):"^"===e?Fe:"`"===e?De(D(void 0,"syntax-quote")):"~"===e?Re:"("===e?xe:")"===e?Ee:"["===e?Ae:"]"===e?Ee:"{"===e?qe:"}"===e?Ee:"%"===e?Ue:"#"===e?_e:void 0},Ke=n.dispatchMacros=function(e){return"{"===e?ke:"("===e?$e:"<"===e?Pe("Unreadable form"):'"'===e?Ne:"!"===e?Ce:"_"===e?Ge:void 0},He=n.readForm=function(o,a){return function(){var e={line:(o||0).line,column:(o||0).column},t=Qe(a),n=t?t(o,a):te(o,a)?Ie(o,a):Le(o,a),r={line:(o||0).line,column:E((o||0).column)},i={uri:(o||0).uri,start:e,end:r};return n===o?n:A(n)||_(n)||P(n)?n:U(n,f(i,N(n)))}.call(this)},Ye=n.read=function r(i,o,a,s){return function n(){for(var e=n;(e=function(){var e=H(i),t=_(e)?o?ne(i,"EOF"):a:X(e)?i:ee(e)?r(Ce(i,e),o,a,s):He(i,e);return t===i?n:t}.call(this))===n;);return e}.call(this)},Je=(n.read_=function(e,t){return function(){var i=Q(e,t),o=W();return function e(){for(var t=e,n=[],r=Ye(i,!1,o,!1);t=r===o?n:(e[0]=f(n,r),e[1]=Ye(i,!1,o,!1),e),n=e[0],r=e[1],t===e;);return t}.call(this)}.call(this)},n.readFromString=function(t,n){return function(){var e=Q(t,n);return Ye(e,!0,void 0,!1)}.call(this)},n.__tagTable__=b("uuid",function(e){return C(e)?o.apply(void 0,[D(void 0,"UUID.")].concat([e])):ne(void 0,"UUID literal expects a string as its representation.")},"queue",function(e){return x(e)?o.apply(void 0,[D(void 0,"PersistentQueue.")].concat([e])):ne(void 0,"Queue literal expects a vector for its elements.")})),Xe=n.maybeReadTaggedType=function(n,r){return function(){var e=Le(n,r),t=(Je||0)[z(e)];return t?t(Ye(n,!0,void 0,!1)):ne(n,"Could not find tag parser for "+z(e)+" in "+S(Je))}.call(this)}},{"./ast":"wisp/ast","./runtime":"wisp/runtime","./sequence":"wisp/sequence","./string":"wisp/string"}],"wisp/repl":[function(r,e,t){var i=i=r("repl"),c=c=r("vm"),n=r("./runtime"),a=n.subs,o=(n.isEqual,n.keys),s=r("./sequence"),u=s.count,l=(s.list,s.conj),p=s.cons,f=s.vec,d=s.last,h=r("./compiler"),m=(h.compile,h.readForms),g=h.analyzeForms,y=h.generate,v=r("./ast").prStr,w=r("base64-encode"),b=t.evaluateCode=function(a,s,u){return function(){var e="data:application/wisp;charset=utf-8;base64,"+w(a),t=m(a,e),n=(t||0).forms?g((t||0).forms):void 0,r=(n||0).ast?function(){try{return y.apply(void 0,f(p({"source-uri":e},(n||0).ast)))}catch(e){return{error:e}}}():void 0,i=(r||0).code?function(){try{return{value:c.runInContext((r||0).code,u,s)}}catch(e){return{error:e}}}():void 0,o=l(t,n,r,i,{error:(i||0).error||(r||0).error||(n||0).error||(t||0).error});return u._3=u._2,u._2=u._1,u._1=o}.call(this)},S=t.evaluate=function(){var i=void 0,o=void 0;return function(e,t,n,r){return i!==e?(i="\n"!==d(e)?a(e,0,u(e)-1):e,o=b(i,n,t),r((o||0).error,(o||0).value)):r((o||0).error)}}.call(this);t.start=function(){return function(){var e=i.start({writer:v,prompt:"=> ",ignoreUndefined:!0,useGlobal:!1,eval:S}),n=e.context;return["runtime","sequence","string"].map(function(e){return function(){var t=r("./src/"+e+".wisp");return o(t).map(function(e){return(n||0)[e]=(t||0)[e]})}.call(this)}),n.exports={},e}.call(this)}},{"./ast":"wisp/ast","./compiler":"wisp/compiler","./runtime":"wisp/runtime","./sequence":"wisp/sequence","base64-encode":5,repl:7,vm:28}],"wisp/runtime":[function(e,t,n){n.identity=function(e){return e},n.complement=function(r){return function(){switch(arguments.length){case 0:return!r();case 1:return!r(e=arguments[0]);case 2:return!r(e=arguments[0],t=arguments[1]);default:var e=arguments[0],t=arguments[1],n=Array.prototype.slice.call(arguments,2);return!r.apply(void 0,[e,t].concat(n))}}},n.isOdd=function(e){return e%2==1},n.isEven=function(e){return e%2==0},n.isDictionary=function(e){return v(e)&&v(Object.getPrototypeOf(e))&&w(Object.getPrototypeOf(Object.getPrototypeOf(e)))},n.dictionary=function(){var i=Array.prototype.slice.call(arguments,0);return function e(){for(var t=e,n=i,r={};t=n.length?(r[n[0]]=n[1],e[0]=n.slice(2),e[1]=r,e):r,n=e[0],r=e[1],t===e;);return t}.call(this)};var l=n.keys=function(e){return Object.keys(e)},r=(n.vals=function(t){return l(t).map(function(e){return(t||0)[e]})},n.keyValues=function(t){return l(t).map(function(e){return[e,(t||0)[e]]})},n.merge=function(){return Object.create(Object.prototype,Array.prototype.slice.call(arguments).reduce(function(t,n){return v(n)&&Object.keys(n).forEach(function(e){return(t||0)[e]=Object.getOwnPropertyDescriptor(n,e)}),t},Object.create(Object.prototype)))},n.isSatisfies=function(e,t){return e.wisp_core$IProtocol$_||(void 0===t?e.wisp_core$IProtocol$nil||!1:null===t?e.wisp_core$IProtocol$nil||!1:t[e.wisp_core$IProtocol$id]||e["wisp_core$IProtocol$"+Object.prototype.toString.call(t).replace("[object ","").replace(/\]$/,"")]||!1)},n.isContainsVector=function(e,t){return 0<=e.indexOf(t)},n.mapDictionary=function(n,r){return Object.keys(n).reduce(function(e,t){return(e||0)[t]=r((n||0)[t]),e},{})},n.toString=Object.prototype.toString),p=n.isFn="function"==typeof/./?function(e){return"[object Function]"===r.call(e)}:function(e){return"function"==typeof e},f=(n.isError=function(e){return e instanceof Error||"[object Error]"===r.call(e)},n.isString=function(e){return"string"==typeof e||"[object String]"===r.call(e)}),d=n.isNumber=function(e){return"number"==typeof e||"[object Number]"===r.call(e)},h=n.isVector=p(Array.isArray)?Array.isArray:function(e){return"[object Array]"===r.call(e)},m=n.isDate=function(e){return"[object Date]"===r.call(e)},g=n.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===r.call(e)},y=n.isRePattern=function(e){return"[object RegExp]"===r.call(e)},v=n.isObject=function(e){return e&&"object"==typeof e},w=n.isNil=function(e){return null==e},i=(n.isTrue=function(e){return!0===e},n.isFalse=function(e){return!1===e},n.reFind=function(t,n){return function(){var e=t.exec(n);return w(e)?void 0:1===e.length?(e||0)[0]:e}.call(this)}),b=(n.reMatches=function(t,n){return function(){var e=t.exec(n);return w(e)||(e||0)[0]!==n?void 0:1===e.length?(e||0)[0]:e}.call(this)},n.rePattern=function(t){return function(){var e=i(/^(?:\(\?([idmsux]*)\))?(.*)/,t);return new RegExp((e||0)[2],(e||0)[1])}.call(this)},n.inc=function(e){return e+1}),S=(n.dec=function(e){return e-1},n.str=function(){return String.prototype.concat.apply("",arguments)},n.char=function(e){return String.fromCharCode(e)},n.int=function(e){return d(e)?Math.floor(e):e.charCodeAt(0)},n.subs=function(e,t,n){return e.substring(t,n)},function a(e,t){switch(arguments.length){case 1:var s=e;return!0;case 2:return(s=e)===(u=t)||(w(s)?w(u):w(u)?w(s):f(s)?f(u)&&s.toString()===u.toString():d(s)?d(u)&&s.valueOf()===u.valueOf():!p(s)&&(!g(s)&&(m(s)?(o=u,m(i=s)&&m(o)&&Number(i)===Number(o)):h(s)?function(a,s){return h(a)&&h(s)&&a.length===s.length&&function e(){for(var t=e,n=a,r=s,i=0,o=a.length;t=!(i<o)||!!S((n||0)[i],(r||0)[i])&&(e[0]=n,e[1]=r,e[2]=b(i),e[3]=o,e),n=e[0],r=e[1],i=e[2],o=e[3],t===e;);return t}.call(this)}(s,u):y(s)?(r=u,y(n=s)&&y(r)&&n.source===r.source&&n.global===r.global&&n.multiline===r.multiline&&n.ignoreCase===r.ignoreCase):function(s,u){return v(s)&&v(u)&&function(){var o=l(s),e=l(u),a=o.length,t=e.length;return a===t&&function e(){for(var t=e,n=0,r=a,i=o;t=!(n<r)||!!S((s||0)[(i||0)[n]],(u||0)[(i||0)[n]])&&(e[0]=b(n),e[1]=r,e[2]=i,e),n=e[0],r=e[1],i=e[2],t===e;);return t}.call(this)}.call(this)}(s,u))));default:s=e;var u=t,c=Array.prototype.slice.call(arguments,2);return function e(){for(var t=e,n=s,r=u,i=0,o=c.length;t=a(n,r)&&(!(i<o)||(e[0]=r,e[1]=(c||0)[i],e[2]=b(i),e[3]=o,e)),n=e[0],r=e[1],i=e[2],o=e[3],t===e;);return t}.call(this)}var n,r,i,o});n.isEqual=S,n.isStrictEqual=function(e,t){switch(arguments.length){case 1:var a=e;return!0;case 2:return(a=e)===(s=t);default:a=e;var s=t,u=Array.prototype.slice.call(arguments,2);return function e(){for(var t=e,n=a,r=s,i=0,o=u.length;t=n==r&&(!(i<o)||(e[0]=r,e[1]=(u||0)[i],e[2]=b(i),e[3]=o,e)),n=e[0],r=e[1],i=e[2],o=e[3],t===e;);return t}.call(this)}},n.greaterThan=function(e,t){switch(arguments.length){case 1:var a=e;return!0;case 2:return(s=t)<(a=e);default:a=e;var s=t,u=Array.prototype.slice.call(arguments,2);return function e(){for(var t=e,n=a,r=s,i=0,o=u.length;t=r<n&&(!(i<o)||(e[0]=r,e[1]=(u||0)[i],e[2]=b(i),e[3]=o,e)),n=e[0],r=e[1],i=e[2],o=e[3],t===e;);return t}.call(this)}},n.notLessThan=function(e,t){switch(arguments.length){case 1:var a=e;return!0;case 2:return(s=t)<=(a=e);default:a=e;var s=t,u=Array.prototype.slice.call(arguments,2);return function e(){for(var t=e,n=a,r=s,i=0,o=u.length;t=r<=n&&(!(i<o)||(e[0]=r,e[1]=(u||0)[i],e[2]=b(i),e[3]=o,e)),n=e[0],r=e[1],i=e[2],o=e[3],t===e;);return t}.call(this)}},n.lessThan=function(e,t){switch(arguments.length){case 1:var a=e;return!0;case 2:return(a=e)<(s=t);default:a=e;var s=t,u=Array.prototype.slice.call(arguments,2);return function e(){for(var t=e,n=a,r=s,i=0,o=u.length;t=n<r&&(!(i<o)||(e[0]=r,e[1]=(u||0)[i],e[2]=b(i),e[3]=o,e)),n=e[0],r=e[1],i=e[2],o=e[3],t===e;);return t}.call(this)}},n.notGreaterThan=function(e,t){switch(arguments.length){case 1:var a=e;return!0;case 2:return(a=e)<=(s=t);default:a=e;var s=t,u=Array.prototype.slice.call(arguments,2);return function e(){for(var t=e,n=a,r=s,i=0,o=u.length;t=n<=r&&(!(i<o)||(e[0]=r,e[1]=(u||0)[i],e[2]=b(i),e[3]=o,e)),n=e[0],r=e[1],i=e[2],o=e[3],t===e;);return t}.call(this)}},n.sum=function(e,t,n,r,i,o){switch(arguments.length){case 0:return 0;case 1:return a=e;case 2:return(a=e)+(s=t);case 3:return(a=e)+(s=t)+(u=n);case 4:return(a=e)+(s=t)+(u=n)+(c=r);case 5:return(a=e)+(s=t)+(u=n)+(c=r)+(l=i);case 6:return(a=e)+(s=t)+(u=n)+(c=r)+(l=i)+(p=o);default:var a=e,s=t,u=n,c=r,l=i,p=o,f=Array.prototype.slice.call(arguments,6);return function e(){for(var t=e,n=a+s+u+c+l+p,r=0,i=f.length;t=r<i?(e[0]=n+(f||0)[r],e[1]=b(r),e[2]=i,e):n,n=e[0],r=e[1],i=e[2],t===e;);return t}.call(this)}},n.subtract=function(e,t,n,r,i,o){switch(arguments.length){case 0:return function(){throw TypeError("Wrong number of args passed to: -")}();case 1:return 0-(a=e);case 2:return(a=e)-(s=t);case 3:return(a=e)-(s=t)-(u=n);case 4:return(a=e)-(s=t)-(u=n)-(c=r);case 5:return(a=e)-(s=t)-(u=n)-(c=r)-(l=i);case 6:return(a=e)-(s=t)-(u=n)-(c=r)-(l=i)-(p=o);default:var a=e,s=t,u=n,c=r,l=i,p=o,f=Array.prototype.slice.call(arguments,6);return function e(){for(var t=e,n=a-s-u-c-l-p,r=0,i=f.length;t=r<i?(e[0]=n-(f||0)[r],e[1]=b(r),e[2]=i,e):n,n=e[0],r=e[1],i=e[2],t===e;);return t}.call(this)}},n.divide=function(e,t,n,r,i,o){switch(arguments.length){case 0:return function(){throw TypeError("Wrong number of args passed to: /")}();case 1:return 1/(a=e);case 2:return(a=e)/(s=t);case 3:return(a=e)/(s=t)/(u=n);case 4:return(a=e)/(s=t)/(u=n)/(c=r);case 5:return(a=e)/(s=t)/(u=n)/(c=r)/(l=i);case 6:return(a=e)/(s=t)/(u=n)/(c=r)/(l=i)/(p=o);default:var a=e,s=t,u=n,c=r,l=i,p=o,f=Array.prototype.slice.call(arguments,6);return function e(){for(var t=e,n=a/s/u/c/l/p,r=0,i=f.length;t=r<i?(e[0]=n/(f||0)[r],e[1]=b(r),e[2]=i,e):n,n=e[0],r=e[1],i=e[2],t===e;);return t}.call(this)}},n.multiply=function(e,t,n,r,i,o){switch(arguments.length){case 0:return 1;case 1:return a=e;case 2:return(a=e)*(s=t);case 3:return(a=e)*(s=t)*(u=n);case 4:return(a=e)*(s=t)*(u=n)*(c=r);case 5:return(a=e)*(s=t)*(u=n)*(c=r)*(l=i);case 6:return(a=e)*(s=t)*(u=n)*(c=r)*(l=i)*(p=o);default:var a=e,s=t,u=n,c=r,l=i,p=o,f=Array.prototype.slice.call(arguments,6);return function e(){for(var t=e,n=a*s*u*c*l*p,r=0,i=f.length;t=r<i?(e[0]=n*(f||0)[r],e[1]=b(r),e[2]=i,e):n,n=e[0],r=e[1],i=e[2],t===e;);return t}.call(this)}},n.and=function(e,t,n,r,i,o){switch(arguments.length){case 0:return!0;case 1:return p=e;case 2:var a=t;return(p=e)&&a;case 3:a=t;var s=n;return(p=e)&&a&&s;case 4:a=t,s=n;var u=r;return(p=e)&&a&&s&&u;case 5:a=t,s=n,u=r;var c=i;return(p=e)&&a&&s&&u&&c;case 6:a=t,s=n,u=r,c=i;var l=o;return(p=e)&&a&&s&&u&&c&&l;default:var p=e,f=(a=t,s=n,u=r,c=i,l=o,Array.prototype.slice.call(arguments,6));return function e(){for(var t=e,n=p&&a&&s&&u&&c&&l,r=0,i=f.length;t=r<i?(e[0]=n&&(f||0)[r],e[1]=b(r),e[2]=i,e):n,n=e[0],r=e[1],i=e[2],t===e;);return t}.call(this)}},n.or=function(e,t,n,r,i,o){switch(arguments.length){case 0:return;case 1:return p=e;case 2:var a=t;return(p=e)||a;case 3:a=t;var s=n;return(p=e)||a||s;case 4:a=t,s=n;var u=r;return(p=e)||a||s||u;case 5:a=t,s=n,u=r;var c=i;return(p=e)||a||s||u||c;case 6:a=t,s=n,u=r,c=i;var l=o;return(p=e)||a||s||u||c||l;default:var p=e,f=(a=t,s=n,u=r,c=i,l=o,Array.prototype.slice.call(arguments,6));return function e(){for(var t=e,n=p||a||s||u||c||l,r=0,i=f.length;t=r<i?(e[0]=n||(f||0)[r],e[1]=b(r),e[2]=i,e):n,n=e[0],r=e[1],i=e[2],t===e;);return t}.call(this)}},n.print=function(){var e=Array.prototype.slice.call(arguments,0);return console.log.apply(void 0,e)},n.max=Math.max,n.min=Math.min,n.isNan=isNaN},{}],"wisp/sequence":[function(e,t,n){function r(e,t){return this.head=e,this.tail=t||_(),this.length=h(O(this.tail)),this}var i=e("./runtime"),a=i.isNil,s=i.isVector,u=i.isFn,o=i.isNumber,c=i.isString,l=i.isDictionary,p=i.keyValues,f=i.str,d=i.dec,h=i.inc,m=i.merge,g=i.dictionary;r.prototype.length=0,r.prototype.type=r.type="wisp.list",r.prototype.tail=Object.create(r.prototype),r.prototype.toString=function(){return function e(){for(var t=e,n="",r=this;t=M(r)?"("+n.substr(1)+")":(e[0]=n+" "+(s(R(r))?"["+R(r).join(" ")+"]":a(R(r))?"nil":c(R(r))?JSON.stringify(R(r)):o(R(r))?JSON.stringify(R(r)):R(r)),e[1]=L(r),e),n=e[0],r=e[1],t===e;);return t}.call(this)};function y(e){return e.realized?e.x:(e.realized=!0)&&(e.x=e.x())}function v(e,t){return this.realized=e||!1,this.x=t,this}v.prototype.type=v.type="wisp.lazy.seq";n.lazySeq=function(e,t){return new v(e,t)};function w(o,a){return function e(){for(var t=e,n=[],r=a,i=R(a);t=!M(r)&&o(i)?(e[0]=F(n,i),e[1]=L(r),e[2]=R(r),e):n,n=e[0],r=e[1],i=e[2],t===e;);return t}.call(this)}var b=n.isLazySeq=function(e){return e&&v.type===e.type},S=n.isList=function(e){return e&&r.type===e.type},_=n.list=function e(){return 0===arguments.length?Object.create(r.prototype):Array.prototype.slice.call(arguments).reduceRight(function(e,t){return E(t,e)},e())},E=n.cons=function(e,t){return new r(e,t)},x=(n.isSequential=function(e){return S(e)||s(e)||b(e)||l(e)||c(e)},n.reverse=function e(t){return S(t)?function(i){return function e(){for(var t=e,n=[],r=i;t=M(r)?_.apply(void 0,n):(e[0]=[R(r)].concat(n),e[1]=L(r),e),n=e[0],r=e[1],t===e;);return t}.call(this)}(t):s(t)?t.reverse():a(t)?_():e(U(t))}),C=n.map=function e(t,n){return s(n)?n.map(function(e){return t(e)}):S(n)?A(t,n):a(n)?_():e(t,U(n))},A=function(i,o){return function e(){for(var t=e,n=_(),r=o;t=M(r)?x(n):(e[0]=E(i(R(r)),n),e[1]=L(r),e),n=e[0],r=e[1],t===e;);return t}.call(this)},q=(n.filter=function e(t,n){return s(n)?n.filter(t):S(n)?q(t,n):a(n)?_():e(t,U(n))},function(i,o){return function e(){for(var t=e,n=_(),r=o;t=M(r)?x(n):(e[0]=i(R(r))?E(R(r),n):n,e[1]=L(r),e),n=e[0],r=e[1],t===e;);return t}.call(this)}),k=n.reduce=function r(i){var o=Array.prototype.slice.call(arguments,1);return function(){var e=2<=O(o),t=e?R(o):void 0,n=e?j(o):R(o);return a(n)?t:s(n)?e?n.reduce(i,t):n.reduce(i):S(n)?e?I(i,t,n):I(i,R(n),L(n)):r(i,t,U(n))}.call(this)},I=function(i,o,a){return function e(){for(var t=e,n=o,r=a;t=M(r)?n:(e[0]=i(n,R(r)),e[1]=L(r),e),n=e[0],r=e[1],t===e;);return t}.call(this)},O=n.count=function(e){return a(e)?0:U(e).length},M=n.isEmpty=function(e){return 0===O(e)},R=n.first=function e(t){return a(t)?void 0:S(t)?t.head:s(t)||c(t)?(t||0)[0]:b(t)?e(y(t)):e(U(t))},j=n.second=function e(t){return a(t)?void 0:S(t)?R(L(t)):s(t)||c(t)?(t||0)[1]:b(t)?e(y(t)):R(L(U(t)))},L=(n.third=function e(t){return a(t)?void 0:S(t)?R(L(L(t))):s(t)||c(t)?(t||0)[2]:b(t)?e(y(t)):j(L(U(t)))},n.rest=function e(t){return a(t)?_():S(t)?t.tail:s(t)||c(t)?t.slice(1):b(t)?e(y(t)):e(U(t))}),B=(n.last=function e(t){return s(t)||c(t)?(t||0)[d(O(t))]:S(t)?function(i){return function e(){for(var t=e,n=R(i),r=L(i);t=M(r)?n:(e[0]=R(r),e[1]=L(r),e),n=e[0],r=e[1],t===e;);return t}.call(this)}(t):a(t)?void 0:b(t)?e(y(t)):e(U(t))},n.butlast=function t(n){return function(){var e=a(n)?void 0:c(n)?subs(n,0,d(O(n))):s(n)?n.slice(0,d(O(n))):S(n)?_.apply(void 0,t(z(n))):b(n)?t(y(n)):t(U(n));return a(e)||M(e)?void 0:e}.call(this)},n.take=function e(t,n){return a(n)?_():s(n)?T(t,n):S(n)?D(t,n):b(n)?e(t,y(n)):e(t,U(n))}),T=(n.takeWhile=function e(t,n){return a(n)?_():s(n)?w(t,n):S(n)?w(t,n):e(t,y(n))},function(e,t){return t.slice(0,e)}),D=function(o,a){return function e(){for(var t=e,n=_(),r=a,i=o;t=0===i||M(r)?x(n):(e[0]=E(R(r),n),e[1]=L(r),e[2]=d(i),e),n=e[0],r=e[1],i=e[2],t===e;);return t}.call(this)},P=n.drop=function e(t,n){return t<=0?n:c(n)?n.substr(t):s(n)?n.slice(t):S(n)?function(i,o){return function e(){for(var t=e,n=i,r=o;t=n<1||M(r)?r:(e[0]=d(n),e[1]=L(r),e),n=e[0],r=e[1],t===e;);return t}.call(this)}(t,n):a(n)?_():b(n)?e(t,y(n)):e(t,U(n))},F=n.conj=function(e){var t=Array.prototype.slice.call(arguments,1);return s(e)?e.concat(t):c(e)?""+e+f.apply(void 0,t):a(e)?_.apply(void 0,x(t)):S(e)||b()?k(function(e,t){return E(t,e)},e,t):l(e)?m(e,m.apply(void 0,t)):function(){throw TypeError("Type can't be conjoined "+e)}()},N=(n.assoc=function(e){var t=Array.prototype.slice.call(arguments,1);return F(e,g.apply(void 0,t))},n.concat=function(){var e=Array.prototype.slice.call(arguments,0);return x(k(function(e,t){return k(function(e,t){return E(t,e)},e,U(t))},_(),e))}),U=n.seq=function(e){return a(e)?void 0:s(e)||S(e)||b(e)?e:c(e)?Array.prototype.slice.call(e):l(e)?p(e):function(){throw TypeError("Can not seq "+e)}()},z=(n.isSeq=function(e){return S(e)||b(e)},n.vec=function e(t){return a(t)?[]:s(t)?t:S(t)||b(t)?function(i){return function e(){for(var t=e,n=[],r=i;t=M(r)?n:(e[0]=(n.push(R(r)),n),e[1]=L(r),e),n=e[0],r=e[1],t===e;);return t}.call(this)}(t):e(U(t))}),W=(n.sort=function r(i,o){return function(){var e=u(i),t=!e&&a(o)?i:o,n=e?function(e,t){return i(e,t)?0:1}:void 0;return a(t)?_():s(t)?t.sort(n):S(t)?_.apply(void 0,z(t).sort(n)):l(t)?U(t).sort(n):r(i,U(t))}.call(this)},n.repeat=function(i,o){return function e(){for(var t=e,n=i,r=[];t=n<=0?r:(e[0]=d(n),e[1]=F(r,o),e),n=e[0],r=e[1],t===e;);return t}.call(this)},n.isEvery=function(t,e){return z(e).every(function(e){return t(e)})},n.some=function(r,i){return function e(){for(var t=e,n=i;t=!M(n)&&(!!r(R(n))||(e[0]=L(n),e)),n=e[0],t===e;);return t}.call(this)});n.partition=function e(t,n,r,i){switch(arguments.length){case 2:return e(o=t,o,u=n);case 3:return e(o=t,a=n,[],u=r);case 4:var o=t,a=n,s=r,u=i;return function n(){for(var e=n,r=[],i=U(u);e=function(){var e=B(o,i),t=O(e);return t===o?(n[0]=F(r,e),n[1]=P(a,i),n):0===t?r:o>t+O(s)?r:F(r,B(o,z(N(e,s))))}.call(this),r=n[0],i=n[1],e===n;);return e}.call(this);default:throw RangeError("Wrong number of arguments passed")}},n.interleave=function(e,t){switch(arguments.length){case 2:var o=e,a=t;return function e(){for(var t=e,n=[],r=o,i=a;t=M(r)||M(i)?U(n):(e[0]=F(n,R(r),R(i)),e[1]=L(r),e[2]=L(i),e),n=e[0],r=e[1],i=e[2],t===e;);return t}.call(this);default:var i=Array.prototype.slice.call(arguments,0);return function e(){for(var t=e,n=[],r=i;t=W(M,r)?n:(e[0]=N(n,C(R,r)),e[1]=C(L,r),e),n=e[0],r=e[1],t===e;);return t}.call(this)}},n.nth=function e(t,n,r){return a(t)?r:S(t)?n<O(t)?R(P(n,t)):r:s(t)||c(t)?n<O(t)?t[n]:r:b(t)?e(y(t),n,r):function(){throw TypeError("Unsupported type")}()}},{"./runtime":"wisp/runtime"}],"wisp/string":[function(e,t,n){var r=e("./runtime"),i=r.str,o=r.subs,a=r.reMatches,s=r.isNil,u=r.isString,c=r.isRePattern,l=e("./sequence"),p=l.vec,f=l.isEmpty,d=n.split=function(e,t,n){return e.split(t,n)},h=(n.splitLines=function(e){return d(e,/\n|\r\n/)},n.join=function(e,t){switch(arguments.length){case 1:var n=e;return i.apply(void 0,p(n));case 2:var r=e;return p(n=t).join(r);default:throw RangeError("Wrong number of arguments passed")}}),m=n.upperCase=function(e){return e.toUpperCase()},g=n.lowerCase=function(e){return e.toLowerCase()},y=(n.capitalize=function(e){return count(e)<2?m(e):""+m(o(e,0,1))+g(o(e,1))},new RegExp("([-()\\[\\]{}+?*.$\\^|,:#<!\\\\])","g")),v=n.patternEscape=function(e){return e.replace(y,"\\$1").replace(new RegExp("\\x08","g"),"\\x08")},w=(n.replaceFirst=function(e,t,n){return e.replace(t,n)},n.replace=function(e,t,n){return u(t)?e.replace(new RegExp(v(t),"g"),n):c(t)?e.replace(new RegExp(t.source,"g"),n):function(){throw"Invalid match arg: "+t}()},n.__LEFTSPACES__=/^\s\s*/),b=n.__RIGHTSPACES__=/\s\s*$/,S=n.__SPACES__=/^\s\s*$/;n.triml=s("".trimLeft)?function(e){return e.replace(w,"")}:function(e){return e.trimLeft()},n.trimr=s("".trimRight)?function(e){return e.replace(b,"")}:function(e){return e.trimRight()},n.trim=s("".trim)?function(e){return e.replace(w).replace(b)}:function(e){return e.trim()},n.isBlank=function(e){return s(e)||f(e)||a(S,e)},n.reverse=function(e){return h("",e.split(/(?:)/).reverse())}},{"./runtime":"wisp/runtime","./sequence":"wisp/sequence"}]},{},[3]);
